(this["webpackJsonpairline-company-app"]=this["webpackJsonpairline-company-app"]||[]).push([[0],{125:function(e,t,c){},129:function(e,t){},131:function(e,t){},14:function(e,t){t.apiendpoint="http://15.236.201.138"},141:function(e,t){},143:function(e,t){},170:function(e,t){},171:function(e,t){},176:function(e,t){},178:function(e,t){},185:function(e,t){},204:function(e,t){},220:function(e,t,c){},221:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(116),s=c.n(r),i=c(1),l=c(0);var A=function(e){var t=e.isConnected,c=e.isAdmin,a=e.homeState,n=e.signInState,r=e.profileState,s=e.adminState;return Object(l.jsx)("header",{children:Object(l.jsx)("nav",{className:"py-2 bg-light border-bottom",children:Object(l.jsx)("div",{className:"container d-flex flex-wrap",children:Object(l.jsxs)("ul",{className:"nav w-100",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),a()},className:"btn nav-link link-dark px-2",children:"Home"})}),t&&Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),r()},className:"btn nav-link link-dark px-2",children:"Profile"})}),!t&&Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),n()},className:"btn nav-link link-dark px-2",children:"Sign in"})}),c&&Object(l.jsx)("li",{className:"ms-auto nav-item",children:Object(l.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),s()},className:"btn nav-link link-dark px-2",children:"Admin"})})]})})})})};var o=function(){return Object(l.jsx)("footer",{className:"footer mt-auto py-3 bg-light",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("span",{className:"text-muted",children:"Not So Green Airline Company, @AdrKacz, 2021"})})})},d=c(63),m=c.n(d),j=(c(123),{fromAirport:void 0,toAirport:void 0,fromDate:void 0,toDate:void 0});var u=function(){var e=Object(a.useState)(j.fromAirport),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(j.toAirport),s=Object(i.a)(r,2),l=s[0],A=s[1],o=Object(a.useState)(j.fromDate),d=Object(i.a)(o,2),m=d[0],u=d[1],b=Object(a.useState)(j.toDate),h=Object(i.a)(b,2),f=h[0],p=h[1];return[{fromAirport:c,toAirport:l,fromDate:m,toDate:f},function(e){var t=e.from,a=e.to;t!==c&&n(t),a!==l&&A(a)},function(e){var t=e.from,c=e.to;t!==m&&u(t),c!==f&&p(c)},function(){j={fromAirport:c,toAirport:l,fromDate:m,toDate:f}}]},b=c(5),h=c.n(b),f=c(10),p=c(14),O={},x=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p.apiendpoint,"/airports"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var v=function(){var e=Object(a.useState)(O),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){var e=!0;return x().then((function(t){if(e){var c={};t.forEach((function(e){c[e.id]={id:e.id,name:e.name,code:e.code}})),n(c),O=c}})).catch((function(e){console.error(e)})),function(){e=!1}}),[]),c};c(125);var N=function(e){var t=e.flightsState,c=u(),a=Object(i.a)(c,4),n=a[0],r=a[1],s=a[2],A=a[3],o=v();function j(e){var t=e.from,c=e.to;r({from:t,to:c})}var b={weekday:"long",year:"numeric",month:"long",day:"numeric"},h={from:n.fromDate,to:n.toDate},f=h.from,p=h.to,O={start:f,end:p},x=function(e){return Object.values(o).map((function(t,c){return Object(l.jsx)("option",{value:t.id,children:t.name},"".concat(e,".").concat(c))}))};return Object(l.jsx)("main",{className:"flex-shrink-0",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"mt-5",children:"Not So Green"}),Object(l.jsx)("p",{className:"lead",children:"Book your flight and discover new worlds."}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A(),t()},children:[Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsxs)("select",{value:n.fromAirport,onChange:function(e){return j({from:e.target.value,to:n.toAirport})},className:"form-select",id:"floatingSelect",children:[Object(l.jsx)("option",{children:"..."}),x("from")]}),Object(l.jsx)("label",{htmlFor:"floatingSelect",children:"From"})]}),Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsxs)("select",{value:n.toAirport,onChange:function(e){var t=e.target;return j({from:n.fromAirport,to:t.value})},className:"form-select",id:"floatingSelect",children:[Object(l.jsx)("option",{children:"..."}),x("to")]}),Object(l.jsx)("label",{htmlFor:"floatingSelect",children:"To"})]}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)(m.a,{className:"Selectable",numberOfMonths:2,onDayClick:function(e,t){t.selected;var c=d.DateUtils.addDayToRange(e,{from:n.fromDate,to:n.toDate});c.from&&c.to&&c.from.toUTCString()===c.to.toUTCString()?s({from:void 0,to:void 0}):s(c)},modifiers:O,selectedDays:[f,{from:f,to:p}]})}),n.fromAirport&&n.toAirport&&f&&Object(l.jsxs)("div",{className:"card mb-3",children:[Object(l.jsx)("div",{className:"card-header",children:"Ready to set the earth on fire?"}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("h5",{className:"card-title",children:[o[n.fromAirport].code," - ",o[n.toAirport].code]}),Object(l.jsx)("p",{className:"lead",children:"From"}),Object(l.jsx)("p",{children:f.toLocaleDateString(void 0,b)}),p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{className:"lead",children:"To"}),Object(l.jsx)("p",{children:p.toLocaleDateString(void 0,b)})]}),Object(l.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Confirm"})]})]})]})]})})},g=function(e,t,c){return"".concat(p.apiendpoint,"/flights/airports/").concat(e,"-").concat(t,"/date/").concat(c.valueOf())},E=function(){var e=Object(f.a)(h.a.mark((function e(t,c,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g(t,c,a));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}();var R=function(){var e,t,c,n=Object(a.useState)(!0),r=Object(i.a)(n,2),s=r[0],l=r[1],A=Object(a.useState)([]),o=Object(i.a)(A,2),d=o[0],m=o[1],j=u(),b=Object(i.a)(j,1)[0];if(s){var h=[b.fromAirport,b.toAirport,b.fromDate];e=h[0],t=h[1],c=h[2]}else{var f=[b.toAirport,b.fromAirport,b.toDate];e=f[0],t=f[1],c=f[2]}return Object(a.useEffect)((function(){var a=!0;return E(e,t,c).then((function(e){if(a){var t={};e.forEach((function(e){t[e.id]={id:e.id,from:e.from,to:e.to,departure:new Date(e.departure),arrival:new Date(e.arrival),price:e.price}})),m(t)}})),function(){a=!1}}),[s,e,t,c]),[d,{isFirst:s,fromAirport:e,toAirport:t,date:c},l]},y=c(39),S={isConnected:!1,flights:{}};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(S.isConnected),c=Object(i.a)(t,2),n=c[1],r=Object(a.useState)(S.flights),s=Object(i.a)(r,2),l=s[1],A=Object(a.useState)(!1),o=Object(i.a)(A,2),d=o[0],m=o[1];function j(e){S.flights[e.id]=e,l(S.flights),m(!d)}function u(e){delete S.flights[e],l(S.flights),m(!d)}function b(){S.isConnected=!1,S.token=void 0,S.isAdmin=void 0,S.email=void 0,S.password=void 0,n(S.isConnected),m(!d)}function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(f.a)(h.a.mark((function e(t,c){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.createHash)("sha256").update(c).digest("hex"),e.next=3,fetch(p.apiendpoint+"/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,passwordHash:a})}).then((function(e){return e.json()}));case 3:(r=e.sent)&&"connected"===r.status?(S.isConnected=!0,S.token=r.token,S.isAdmin=r.isAdmin,S.email=t,S.password=c,n(S.isConnected)):b();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e?O:[S,j,b,u,d]};var w=function(e){var t=e.checkoutState,c=v(),a=R(),n=Object(i.a)(a,3),r=n[0],s=n[1],A=n[2],o=k(),d=Object(i.a)(o,2)[1],m={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return Object(l.jsx)("main",{className:"flex-shrink-0",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("h2",{className:"my-3",children:[c[s.fromAirport].name," - ",c[s.toAirport].name]}),Object(l.jsx)("div",{children:Object.values(r).map((function(e,c){return Object(l.jsx)("div",{className:"card mb-3",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h5",{className:"card-title",children:"$".concat(e.price)}),Object(l.jsx)("p",{className:"card-text lead",children:"Departure"}),Object(l.jsx)("p",{className:"card-text",children:e.departure.toLocaleDateString(void 0,m)}),Object(l.jsx)("p",{className:"card-text lead",children:"Arrival"}),Object(l.jsx)("p",{className:"card-text",children:e.arrival.toLocaleDateString(void 0,m)}),Object(l.jsx)("button",{onClick:function(){return c=e.id,d(r[c]),void(s.isFirst?A(!1):t());var c},className:"btn btn-primary",children:"Book"})]})},c)}))})]})})},C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAuUAAALlAF37bb0AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACyO34QAAAP90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+6wjZNQAAEldJREFUGBntwQmclYPCBvDnnFlrWqcp7SVTvhIVuUIqNxXqJnJRn6VCklEUyXaNKKR7ExLdSxHJEqJQKSKJSoYkNUqL9r1pmu2c57s/3/W7lplz5j3n3ef5/wERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERQc2u1907Zc6KbQd/tmPV20/fO+i8WpAKoErnkS/nslQbX7m9S1WIj9Uf8n4hIwqteOi8VIgfZY5eHmZ5HFt0558SIL4SOP/dMA048OZNJ0L8Im3oOhq3bfpV9SHeV2XMQcZq7eMXVYd4WcLgnYxLyfIHz02BeNQFa2iC/AWjTgtCPKfFAppm3+tDMiFeknxvAc21+dn+x0E84py1tMI3E3tVhfxXSu3Mk5s3ql01Ca5SY2qYVin+9P5OSajI6p4z6P5J099YtHL9rgL+oiRv77YN36z4ZMHbr77wzKRH7r+lNpxzxU5aK++9kW0DqHDqnD1g7CtfHmF0e8fUgWOavEs77Hnl+uNRUdTumT1r1SGW0/obK8E55+2nbTZOvbw2fK5yxxGzNtKApX2CcNCwEtoq/NWEC9LgTwknX/vMV8U0IvRaB0SV3DYIq9xGBxR9/LezE+EvtS99dEkeDcp7ohmiqjbqJ+6bNbA+rNCukA45PPeWk+ET1XpNzAnTsB13pSOqBuMP8f/ljO8Is1X6jk7aOXNQE3hc6p/HflbCGKwZlIyoWk0r5K+sH10PphpCx22Ycmkt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mmsJxFMG0VyLIN6STVNNg3jMczTTfRCPSZxPEw2AeE3V1TTPuRDPqb+ZpmkG8Z5WB2iSwiSIB3UupDkWQTypX5imGAnxplE0RSuIR02mCX6EeFXwLcZvCsSzKi9n3HpCvKt2LuOUmwDxsMw9jM+NEE/rkM947K4E8bY+IcbhXojXZTF2eekQzxvPmD0M8b7ALMZofSWID6QsYUxCHSG+UHMtY/EYxCeabKdxuZUhftHuCI0q6QTxjx7FNCY8EOIng2jMbRB/yaYRD0P85jmW378gvpM4n+U1LQHiP1VXs1yKh0F8qd5mlsPuLhCfanWAUa1qDPGtzoWMrPjxVIiP9QszknktIf42imVb0x3ie5NZhm1DEiD+F5zG0nw3MBlSMYwo4e8tuygAqTB6HOCvheeeA6lQGo/dyl8cnN4aUuEEe8z4eHXuri8e6JgIERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESm//wN/ZdWVsmQj7wAAAABJRU5ErkJggg==",D=c(117);var F=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1];return[c,function(e){n([].concat(Object(D.a)(c),[{code:e.toUpperCase(),discount:5+Math.floor(10*Math.random())}]))}]};var T=function(e){var t=e.completionState,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],s=n[1],A=F(),o=Object(i.a)(A,2),d=o[0],m=o[1],j=k(),u=Object(i.a)(j,1)[0],b={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(l.jsx)("div",{className:"container pb-5",children:Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"py-5 text-center",children:[Object(l.jsx)("img",{className:"d-block mx-auto mb-4",src:C,alt:"",width:"72",height:"72"}),Object(l.jsx)("h2",{children:"Time to pay"}),Object(l.jsx)("p",{className:"lead",children:"We won't use your credentials for anything worse than you're already doing."})]}),Object(l.jsxs)("div",{className:"row g-5",children:[Object(l.jsxs)("div",{className:"col-md-5 col-lg-4 order-md-last",children:[Object(l.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(l.jsx)("span",{className:"text-primary",children:"Your cart"}),Object(l.jsx)("span",{className:"badge bg-primary rounded-pill",children:"3"})]}),Object(l.jsxs)("ul",{className:"list-group mb-3",children:[Object.values(u.flights).map((function(e,t){return Object(l.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-sm",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h6",{className:"my-0",children:"".concat(e.from," - ").concat(e.from)}),Object(l.jsx)("small",{className:"text-muted",children:e.departure.toLocaleDateString(void 0,b)})]}),Object(l.jsx)("span",{className:"text-muted",children:"$".concat(e.price)})]},"flight-".concat(t))})),d.map((function(e,t){return Object(l.jsxs)("li",{className:"list-group-item d-flex justify-content-between bg-light",children:[Object(l.jsxs)("div",{className:"text-success",children:[Object(l.jsx)("h6",{className:"my-0",children:"Promo code"}),Object(l.jsx)("small",{children:e.code})]}),Object(l.jsx)("span",{className:"text-success",children:"-$".concat(e.discount)})]},"redeem-".concat(t))})),Object(l.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(l.jsx)("span",{children:"Total (USD)"}),Object(l.jsxs)("strong",{children:["$",function(){var e=Object.values(u.flights).map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),t=d.map((function(e){return e.discount})).reduce((function(e,t){return e+t}),0);return Math.max(e-t,0)}()]})]})]}),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),r&&(m(r),s(""))},className:"card p-2",children:Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("input",{value:r,onChange:function(e){var t=e.target;s(t.value)},type:"text",className:"form-control",placeholder:"Promo code"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Redeem"})]})})]}),Object(l.jsxs)("div",{className:"col-md-7 col-lg-8",children:[Object(l.jsx)("h4",{className:"mb-3",children:"Billing address"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},children:[Object(l.jsxs)("div",{className:"row g-3",children:[Object(l.jsxs)("div",{className:"col-sm-6",children:[Object(l.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"firstName",placeholder:"",defaultValue:"",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Valid first name is required."})]}),Object(l.jsxs)("div",{className:"col-sm-6",children:[Object(l.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"lastName",placeholder:"",defaultValue:"",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Valid last name is required."})]}),Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(l.jsxs)("div",{className:"input-group has-validation",children:[Object(l.jsx)("span",{className:"input-group-text",children:"@"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Your username is required."})]})]}),Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email ",Object(l.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),Object(l.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"you@example.com"}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Please enter a valid email address for shipping updates."})]}),Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"1234 Main St",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Please enter your shipping address."})]}),Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsxs)("label",{htmlFor:"address2",className:"form-label",children:["Address 2 ",Object(l.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"address2",placeholder:"Apartment or suite"})]}),Object(l.jsxs)("div",{className:"col-md-5",children:[Object(l.jsx)("label",{htmlFor:"country",className:"form-label",children:"Country"}),Object(l.jsxs)("select",{className:"form-select",id:"country",required:"",children:[Object(l.jsx)("option",{defaultValue:"",children:"Choose..."}),Object(l.jsx)("option",{children:"United States"})]}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Please select a valid country."})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),Object(l.jsxs)("select",{className:"form-select",id:"state",required:"",children:[Object(l.jsx)("option",{defaultValue:"",children:"Choose..."}),Object(l.jsx)("option",{children:"California"})]}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid state."})]}),Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsx)("label",{htmlFor:"zip",className:"form-label",children:"Zip"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"zip",placeholder:"",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Zip code required."})]})]}),Object(l.jsx)("hr",{className:"my-4"}),Object(l.jsxs)("div",{className:"form-check",children:[Object(l.jsx)("input",{type:"checkbox",className:"form-check-input",id:"save-info"}),Object(l.jsx)("label",{className:"form-check-label",htmlFor:"save-info",children:"Save this information for next time"})]}),Object(l.jsx)("hr",{className:"my-4"}),Object(l.jsx)("h4",{className:"mb-3",children:"Payment"}),Object(l.jsxs)("div",{className:"row gy-3",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{htmlFor:"cc-name",className:"form-label",children:"Name on card"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"cc-name",placeholder:"",required:""}),Object(l.jsx)("small",{className:"text-muted",children:"Full name as displayed on card"}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Name on card is required"})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{htmlFor:"cc-number",className:"form-label",children:"Credit card number"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"cc-number",placeholder:"",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Credit card number is required"})]}),Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsx)("label",{htmlFor:"cc-expiration",className:"form-label",children:"Expiration"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"cc-expiration",placeholder:"",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Expiration date required"})]}),Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsx)("label",{htmlFor:"cc-cvv",className:"form-label",children:"CVV"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"cc-cvv",placeholder:"",required:""}),Object(l.jsx)("div",{className:"invalid-feedback",children:"Security code required"})]})]}),Object(l.jsx)("hr",{className:"my-4"}),Object(l.jsx)("button",{className:"w-100 btn btn-primary btn-lg",type:"submit",children:"Continue to checkout"})]})]})]})]})})};var q=function(e){var t=e.homeState;return Object(l.jsxs)("div",{className:"text-center cover-container d-flex w-100 h-100 p-3 mx-auto flex-column",children:[Object(l.jsx)("div",{className:"mb-auto"}),Object(l.jsxs)("main",{className:"px-3",children:[Object(l.jsx)("h1",{children:"Well done."}),Object(l.jsx)("p",{className:"lead",children:"To balance the carbon footprint of your flight, you must stop eating for 153 days."}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),t()},className:"btn btn-primary",children:"Return to home"})]}),Object(l.jsx)("div",{className:"mt-auto"})]})};c(220);var X=function(e){var t=e.previousState,c=k(!0),n=Object(a.useState)(""),r=Object(i.a)(n,2),s=r[0],A=r[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),m=d[0],j=d[1];function u(){return(u=Object(f.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,c(s,m);case 3:t();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsx)("main",{className:"form-signin text-center",children:Object(l.jsxs)("form",{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(l.jsx)("img",{className:"mb-4",src:C,alt:"",width:"72",height:"72"}),Object(l.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in"}),Object(l.jsxs)("div",{className:"form-floating",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;A(t.value)},type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com"}),Object(l.jsx)("label",{htmlFor:"floatingInput",children:"Email address"})]}),Object(l.jsxs)("div",{className:"form-floating",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;j(t.value)},type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password"}),Object(l.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(l.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Sign in"})]})})};var K=function(e){var t=e.previousState,c=e.checkoutState,a=k(),n=Object(i.a)(a,4),r=n[0],s=n[2],A=n[3],o={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return Object(l.jsx)("div",{className:"container pb-5",children:Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"py-5 text-center",children:[Object(l.jsx)("img",{className:"d-block mx-auto mb-4",src:C,alt:"",width:"72",height:"72"}),Object(l.jsx)("h2",{children:"Your profile"}),Object(l.jsx)("p",{className:"lead",children:"Just think about yourself."}),Object(l.jsx)("button",{onClick:function(){s(),t()},className:"btn btn-primary",children:"Sign out"})]}),Object(l.jsx)("div",{className:"list-group mb-5",children:Object.values(r.flights).map((function(e,t){return Object(l.jsxs)("div",{className:"list-group-item list-group-item-action",children:[Object(l.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(l.jsxs)("h5",{className:"mb-1",children:[e.from," - ",e.to]}),Object(l.jsx)("button",{onClick:function(){return t=e.id,void A(t);var t},type:"button",className:"btn-close","aria-label":"Close"})]}),Object(l.jsxs)("p",{className:"mb-1",children:[e.departure.toLocaleDateString(void 0,o)," - ",e.arrival.toLocaleDateString(void 0,o)]}),Object(l.jsxs)("small",{children:["$",e.price]})]},t)}))}),Object.values(r.flights).length>0&&Object(l.jsx)("div",{className:"d-grid",children:Object(l.jsx)("button",{onClick:function(){c()},className:"btn btn-outline-primary",type:"submit",children:"Checkout"})})]})})},P=c(15),M=c(9),H={user:{fields:[["email","text"],["password-hash","text"],["admin","bool"]]},airport:{fields:[["name","text"],["code","text"]]},airplane:{fields:[["number","number"],["type","text"]]},employee:{fields:[["security-number","number"],["surname","text"],["name","text"],["address","text"],["salary","number"],["user-id","$user$email"]]},consumer:{fields:[["number","number"],["surname","text"],["name","text"],["user-id","$user$email"]]},connection:{fields:[["departure-airport-id","$airport$name"],["arrival-airport-id","$airport$name"]]},pilot:{fields:[["employee-id","$employee$name.surname"],["license-number","text"]]},"crew-member":{fields:[["employee-id","$employee$name.surname"],["role","text"]]},flight:{fields:[["from","date"],["to","date"],["number","number"],["connection-id","$connection$id"],["airplane-id","$airplane$number"],["departure-day","text"],["arrival-day","text"],["departure-time","time"],["arrival-time","time"]]},departure:{fields:[["flight-id","$flight$from.to"],["date","date"],["pilot-id","$pilot$name.surname"],["optional-pilot-id","$pilot$name.surname"],["first-crew-member-id","$crew-member$name.surname"],["second-crew-member-id","$crew-member$name.surname"],["number-of-empty-seat","number"],["number-of-reserved-seat","number"]]},ticket:{fields:[["number","number"],["date-time-of-issue","datetime-local"],["price","number"],["departure-id","$departure$date"],["consumer-id","$consumer$date"]]}},L=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"flex-shrink-0 me-2 bi bi-x-circle-fill",viewBox:"0 0 16 16",children:Object(l.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})}),Y=Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"flex-shrink-0 me-2 bi bi-check-circle-fill",viewBox:"0 0 16 16",children:Object(l.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})});var U=function(e){var t,c=e.status,a=e.message,n=e.handleClick,r=null!==n&&void 0!==n?n:function(){},s="primary";return"success"===c?(t=Y,s="success"):"fail"===c&&(t=L,s="danger"),Object(l.jsxs)("div",{className:"alert alert-".concat(s," d-flex align-items-center alert-dismissible"),role:"alert",children:[t,a,Object(l.jsx)("button",{onClick:r,type:"button",className:"btn-close","aria-label":"Close"})]})},Q=function(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")};var W=function(e){var t=e.databaseSchema,c=e.handleSubmitCreateObject,a=e.handleChangeObject,n=e.editedObject,r=e.objects;return Object(l.jsx)(l.Fragment,{children:Object.entries(t).map((function(e,t){var s=Object(i.a)(e,2),A=s[0],o=s[1];return Object(l.jsxs)("form",{className:"mb-5",onSubmit:function(e){e.preventDefault(),c(A)},children:[Object(l.jsx)("h4",{className:"mb-3",children:Q(A)}),o.fields.map((function(e,c){var s=Object(i.a)(e,2),o=s[0],d=s[1];if("$"===d[0]){var m=d.slice(1).split("$"),j=Object(i.a)(m,2),u=j[0],b=j[1].split(".");return Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsxs)("select",{value:n[A]?n[A][o]:void 0,onChange:function(e){var t=e.target;return a(A,o,t.value)},className:"form-select",id:"floatingselect$".concat(A,"$").concat(o),children:[Object(l.jsx)("option",{children:"..."}),(r[u+"s"]||[]).map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:b.map((function(t){return e[t]})).join(" ")},"floatingselect$".concat(A,"$").concat(o,"$").concat(t))}))]}),Object(l.jsx)("label",{htmlFor:"floatingselect$".concat(A,"$").concat(o),children:Q(o)})]},"".concat(t,"$").concat(c))}return"bool"===d?Object(l.jsxs)("div",{className:"form-check form-switch mb-3",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;return a(A,o,t.checked)},className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"}),Object(l.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:Q(o)})]},"".concat(t,"$").concat(c)):Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;return a(A,o,t.value)},type:d,className:"form-control",id:"floating$".concat(A,"$").concat(o),placeholder:o,value:n[A]&&n[A][o]?n[A][o]:"",required:!0}),Object(l.jsx)("label",{htmlFor:"floating$".concat(A,"$").concat(o),children:Q(o)})]},"".concat(t,"$").concat(c))})),Object(l.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Create"})]},t)}))})};var I=function(e){var t=e.databaseSchema,c=e.handleSubmitUpdateObject,a=e.handleChangeObject,n=e.editedObject,r=e.objects;return Object(l.jsx)(l.Fragment,{children:Object.entries(t).map((function(e,t){var s=Object(i.a)(e,2),A=s[0],o=s[1];return Object(l.jsxs)("form",{className:"mb-5",onSubmit:function(e){e.preventDefault(),c(A)},children:[Object(l.jsx)("h4",{className:"mb-3",children:Q(A)}),Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsxs)("select",{value:n[A]?n[A].id:void 0,onChange:function(e){var t=e.target;return a(A,"id",t.value)},className:"form-select",id:"floatingselectmainupdate".concat(A),children:[Object(l.jsx)("option",{children:"..."}),(r[A+"s"]||[]).map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.id},"floatingselectmainupdate$".concat(A,"$").concat(t))}))]}),Object(l.jsx)("label",{htmlFor:"floatingselectmainupdate$".concat(A),children:Q(A)})]},"selectmainupdate$".concat(t)),n[A]&&n[A].id&&o.fields.map((function(e,c){var s=Object(i.a)(e,2),o=s[0],d=s[1];if("$"===d[0]){var m,j=d.slice(1).split("$"),u=Object(i.a)(j,2),b=u[0],h=u[1].split(".");if(n[A])if(n[A][o])m=n[A][o];else{var f=(r[A+"s"]||[]).find((function(e){return e.id===n[A].id}));console.log("Update item",f),f&&(m=f[o])}return Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsx)("select",{value:m,onChange:function(e){var t=e.target;return a(A,o,t.value)},className:"form-select",id:"floatingselect$".concat(A,"$").concat(o),children:(r[b+"s"]||[]).map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:h.map((function(t){return e[t]})).join(" ")},"floatingselect$".concat(A,"$").concat(o,"$").concat(t))}))}),Object(l.jsx)("label",{htmlFor:"floatingselect$".concat(A,"$").concat(o),children:Q(o)})]},"".concat(t,"$").concat(c))}if("bool"===d){var p=!1;if(n[A])if(n[A][o])p=n[A][o];else{var O=(r[A+"s"]||[]).find((function(e){return e.id===n[A].id}));console.log("Update item",O),O&&(p=O[o])}return Object(l.jsxs)("div",{className:"form-check form-switch mb-3",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;return a(A,o,t.checked)},checked:p,className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"}),Object(l.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:Q(o)})]},"".concat(t,"$").concat(c))}var x="";if(n[A])if(n[A][o])x=n[A][o];else{var v=(r[A+"s"]||[]).find((function(e){return e.id===n[A].id}));v&&(x=v[o])}return Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;return a(A,o,t.value)},type:d,className:"form-control",id:"floating$".concat(A,"$").concat(o),placeholder:o,value:x,required:!0}),Object(l.jsx)("label",{htmlFor:"floating$".concat(A,"$").concat(o),children:Q(o)})]},"".concat(t,"$").concat(c))})),Object(l.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Update"})]},t)}))})};var B=function(e){var t=e.databaseSchema,c=e.handleSubmitDeleteObject,a=e.handleChangeObject,n=e.editedObject,r=e.objects;return Object(l.jsx)(l.Fragment,{children:Object.entries(t).map((function(e,t){var s=Object(i.a)(e,2),A=s[0];s[1];return Object(l.jsxs)("form",{className:"mb-5",onSubmit:function(e){e.preventDefault(),c(A)},children:[Object(l.jsx)("h4",{className:"mb-3",children:Q(A)}),Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsxs)("select",{value:n[A]?n[A].id:void 0,onChange:function(e){var t=e.target;return a(A,"id",t.value)},className:"form-select",id:"floatingselectmaindelete$".concat(A),children:[Object(l.jsx)("option",{children:"..."}),(r[A+"s"]||[]).map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.id},"floatingselectmaindelete$".concat(A,"$").concat(t))}))]}),Object(l.jsx)("label",{htmlFor:"floatingselectmain$".concat(A),children:Q(A)})]},"selectmaindelete$".concat(t)),Object(l.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Delete"})]},t)}))})},V=function(e){return"".concat(p.apiendpoint,"/").concat(e)},G=function(){var e=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=["users","airports","employees","connections","airplanes","flights","pilots","crew-members","departures","consumers"],J=[];var Z=function(e){var t=Object(a.useState)({}),c=Object(i.a)(t,2),n=c[0],r=c[1];function s(){var e=!0,t=J;return Promise.all(t.map((function(e){return G(e)}))).then((function(c){if(e){var a={};c.forEach((function(e,c){var n=e.map((function(e){var t={};return Object.entries(e).forEach((function(e){var c=Object(i.a)(e,2),a=c[0],n=c[1];t[a.replace(/_/g,"-")]=n})),t}));a[t[c]]=n})),r(a)}})).catch((function(e){console.error(e)})),function(){e=!1}}return J=[],e.forEach((function(e){z.includes(e)&&J.push(e)})),Object(a.useEffect)(s,[]),[n,s]};var $=function(){var e,t=Object(a.useState)({}),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(0),A=Object(i.a)(s,2),o=A[0],d=A[1],m=Object(a.useState)("create"),j=Object(i.a)(m,2),u=j[0],b=j[1],O=Object(a.useState)(!1),x=Object(i.a)(O,2),v=x[0],N=x[1],g=Object(a.useState)(""),E=Object(i.a)(g,2),R=E[0],S=E[1],w=k(),C=Object(i.a)(w,2)[0],D=Object(a.useState)({}),F=Object(i.a)(D,2),T=F[0],q=F[1],X=Z(["users","airports","employees","connections","airplanes","flights","pilots","crew-members","departures","consumers"]),K=Object(i.a)(X,2),L=K[0],Y=K[1];function Q(e){q({}),b(e)}function V(e,t,c){"id"!==t?T[e]?q(Object(M.a)(Object(M.a)({},T),{},Object(P.a)({},e,Object(M.a)(Object(M.a)({},T[e]),{},Object(P.a)({},t,c))))):q(Object(M.a)(Object(M.a)({},T),{},Object(P.a)({},e,Object(P.a)({},t,c)))):q(Object(M.a)(Object(M.a)({},T),{},Object(P.a)({},e,Object(P.a)({},t,parseInt(c)))))}function G(e){q(Object(M.a)(Object(M.a)({},T),{},Object(P.a)({},e,void 0)))}function z(e,t){e.err?r(Object(M.a)(Object(M.a)({},n),{},Object(P.a)({},o,{id:o,status:"fail",message:e.msg}))):r(Object(M.a)(Object(M.a)({},n),{},Object(P.a)({},o,{id:o,status:"success",message:"[".concat(t,"] ").concat(e.msg)}))),d(o+1),console.log(e)}function J(){return(J=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.apiendpoint+"/admin/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:C.token,object:t,data:T[t]})}).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,Y();case 5:z(c,t),G(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.apiendpoint+"/admin/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:C.token,object:t,objectId:T[t]&&T[t].id,data:T[t]})}).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,Y();case 5:z(c,t),G(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.apiendpoint+"/admin/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:C.token,object:t,objectId:T[t].id})}).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,Y();case 5:z(c,t),G(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"create"===u?e=Object(l.jsx)(W,{databaseSchema:H,handleSubmitCreateObject:function(e){return J.apply(this,arguments)},handleChangeObject:V,editedObject:T,objects:L}):"update"===u?e=Object(l.jsx)(I,{databaseSchema:H,handleSubmitUpdateObject:function(e){return $.apply(this,arguments)},handleChangeObject:V,editedObject:T,objects:L}):"delete"===u&&(e=Object(l.jsx)(B,{databaseSchema:H,handleSubmitDeleteObject:function(e){return _.apply(this,arguments)},handleChangeObject:V,editedObject:T,objects:L}));var ee=function(e){return"".concat(e===u?"active ":"","nav-link btn btn-link")};return Object(l.jsx)("div",{className:"container pb-5",children:Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{className:"fixed-top m-3",children:Object.values(n).map((function(e){return Object(l.jsx)(U,{status:e.status,message:e.message,handleClick:function(){return t=e.id,delete n[t],void r(Object(M.a)({},n));var t}},e.id)}))}),Object(l.jsxs)("div",{className:"py-5 text-center",children:[Object(l.jsx)("h2",{children:"You're the boss here!"}),Object(l.jsx)("p",{className:"lead",children:"Just do anything you want, fire is in your hand."})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsxs)("button",{className:"btn btn-outline-primary mb-3",onClick:function(){N(!v)},children:[v?"Hide":"Show"," help to hash input"]}),Object(l.jsx)("div",{className:"collapse".concat(v?".show":""),children:Object(l.jsxs)("div",{className:"card card-body",children:[Object(l.jsxs)("div",{className:"form-floating mb-3",children:[Object(l.jsx)("input",{onChange:function(e){var t=e.target;return S(t.value)},type:"text",className:"form-control",value:R,placeholder:"Raw Hash",id:"hashhelper"}),Object(l.jsx)("label",{htmlFor:"hashhelper",children:"Raw input"})]}),Object(l.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Raw input hashed"}),Object(l.jsx)("p",{className:"card-text",children:Object(y.createHash)("sha256").update(R).digest("hex")})]})})]}),Object(l.jsxs)("ul",{className:"nav nav-tabs mb-3",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{onClick:function(e){return Q("create")},type:"button",className:ee("create"),children:"Create"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{onClick:function(e){return Q("update")},type:"button",className:ee("update"),children:"Update"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{onClick:function(e){return Q("delete")},type:"button",className:ee("delete"),children:"Delete"})})]}),e]})})};var _=function(){var e=k(),t=Object(i.a)(e,1)[0],c=Object(a.useState)("home"),n=Object(i.a)(c,2),r=n[0],s=n[1],d=Object(a.useState)("home"),m=Object(i.a)(d,2),j=m[0],u=m[1];function b(e){s(j),u(e)}return"checkout"!==j||t.isConnected||b("signin"),"admin"!==j||t.isAdmin||u("home"),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(A,{isConnected:t.isConnected,isAdmin:t.isAdmin,homeState:function(){return b("home")},signInState:function(){return b("signin")},profileState:function(){return b("profile")},adminState:function(){return b("admin")}}),"home"===j&&Object(l.jsx)(N,{flightsState:function(){return b("flights")}}),"flights"===j&&Object(l.jsx)(w,{checkoutState:function(){return b("checkout")}}),"checkout"===j&&Object(l.jsx)(T,{completionState:function(){return b("completion")}}),"completion"===j&&Object(l.jsx)(q,{homeState:function(){return b("home")}}),"signin"===j&&Object(l.jsx)(X,{previousState:function(){return b(r)}}),"profile"===j&&Object(l.jsx)(K,{previousState:function(){return b(r)},checkoutState:function(){return b("checkout")}}),"admin"===j&&Object(l.jsx)($,{}),Object(l.jsx)(o,{})]})},ee=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,222)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root")),ee()}},[[221,1,2]]]);
//# sourceMappingURL=main.ac517a87.chunk.js.map