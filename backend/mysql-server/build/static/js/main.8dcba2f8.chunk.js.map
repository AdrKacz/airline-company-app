{"version":3,"sources":["constants.js","components/header/header.js","components/footer/footer.js","hooks/useSearchInfo.js","hooks/useAirports.js","components/home/home.js","hooks/useFlights.js","hooks/useUser.js","components/flights/flights.js","assets/air-transport.png","hooks/useRedeems.js","components/checkout/checkout.js","components/completion/completion.js","components/signin/signin.js","components/profile/profile.js","hooks/useObjects.js","components/admin/admin.js","App.js","reportWebVitals.js","index.js"],"names":["exports","apiendpoint","Header","isConnected","isAdmin","homeState","signInState","profileState","adminState","className","type","onClick","e","preventDefault","Footer","searchInfo","fromAirport","undefined","toAirport","fromDate","toDate","useSearchInfo","useState","setFromAirport","setToAirport","setFromDate","setToDate","from","to","globalAirports","fetchAPI","a","fetch","response","json","useAirports","airports","setAirports","useEffect","isMounted","then","data","forEach","airport","id","name","code","catch","err","console","error","Home","flightsState","updateAirports","updateDates","validateSearch","handleAirports","options","weekday","year","month","day","modifiers","start","end","airportOptions","key","Object","values","map","i","value","onSubmit","onChange","target","htmlFor","numberOfMonths","onDayClick","selected","range","DateUtils","addDayToRange","toUTCString","selectedDays","toLocaleDateString","url","date","valueOf","useFlights","lookFirst","setLookFirst","flights","setFlights","responseJSON","flight","departure","Date","arrival","price","isFirst","user","useUser","auth","setIsConnected","flag","setFlag","setUserFlight","localFlight","removeUserFlight","flightId","signOut","token","email","password","signIn","passwordHash","createHash","update","digest","method","headers","body","JSON","stringify","status","Flights","checkoutState","details","setFlight","hour","minute","second","useRedeems","redeems","setRedeems","redeem","toUpperCase","discount","Math","floor","random","Checkout","completionState","setRedeem","addRedeem","src","airTransport","alt","width","height","r","totalWithoutDiscount","f","reduce","p","c","totalDiscount","max","getTotal","placeholder","defaultValue","required","Completion","SignIn","previousState","setEmail","setPassword","Profile","removeFlight","aria-label","length","object","allowedName","lastMountedNames","useObjects","names","objects","setObjects","loadData","keys","Promise","all","responses","localObjects","index","localResponse","item","localItem","entries","replace","includes","push","capitalize","string","split","word","slice","join","databaseSchema","Admin","forms","state","setState","showCollapse","setShowCollapse","rawHash","setRawHash","editedObject","setEditedObject","reload","handleTabClick","handleChangeObject","field","parseInt","log","objectId","handleSubmitCreateObject","fields","j","localObject","localFields","o","checked","role","handleSubmitUpdateObject","k","find","el","handleSubmitDeleteObject","tabClassName","App","previousAppState","setPreviousAppState","appState","setAppState","changeAppState","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dcba2f8.chunk.js","sourcesContent":["// Only choose one\n// DEV\n// exports.apiendpoint = 'http://127.0.0.1:8080';\n// PROD\nexports.apiendpoint = 'http://35.180.199.50';","function Header({isConnected, isAdmin, homeState, signInState, profileState, adminState}) {\n  function handleClickHome(e) {\n    e.preventDefault();\n    homeState();\n  }\n\n  function handleClickSignIn(e) {\n    e.preventDefault();\n    signInState();\n  }\n\n  function handleClickProfile(e) {\n    e.preventDefault();\n    profileState();\n  }\n\n  function handleClickAdmin(e) {\n    e.preventDefault();\n    adminState();\n  }\n\n  return (\n    <header>\n      <nav className='py-2 bg-light border-bottom'>\n        <div className='container d-flex flex-wrap'>\n          <ul className='nav w-100'>\n            <li className='nav-item'>\n              <button type='button' onClick={handleClickHome} className='btn nav-link link-dark px-2'>Home</button>\n            </li>\n            {isConnected &&\n              <li className='nav-item'>\n                <button type='button' onClick={handleClickProfile} className='btn nav-link link-dark px-2'>Profile</button>\n              </li>\n            }\n            {!isConnected &&\n              <li className='nav-item'>\n                <button type='button' onClick={handleClickSignIn} className='btn nav-link link-dark px-2'>Sign in</button>\n              </li>\n            }\n            {isAdmin &&\n              <li className='ms-auto nav-item'>\n                <button type='button' onClick={handleClickAdmin} className='btn nav-link link-dark px-2'>Admin</button>\n              </li>\n            }            \n          </ul>\n        </div>\n      </nav>\n    </header>\n  )\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"footer mt-auto py-3 bg-light\">\n      <div className=\"container\">\n        <span className=\"text-muted\">Not So Green Airline Company, @AdrKacz, 2021</span>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import { useState } from 'react';\n\n// NOTE: Local Store\nlet searchInfo = {\n  fromAirport: undefined,\n  toAirport: undefined,\n  fromDate: undefined,\n  toDate: undefined,\n}\n\nfunction useSearchInfo() {\n  const [fromAirport, setFromAirport] = useState(searchInfo.fromAirport);\n  const [toAirport, setToAirport] = useState(searchInfo.toAirport);\n\n  const [fromDate, setFromDate] = useState(searchInfo.fromDate);\n  const [toDate, setToDate] = useState(searchInfo.toDate);\n\n  function updateAirports({from, to}) {\n    if (from !== fromAirport) {\n      setFromAirport(from);\n    }\n    if (to !== toAirport) {\n      setToAirport(to);\n    }\n  }\n\n  function updateDates({from, to}) {\n    if (from !== fromDate) {\n      setFromDate(from);\n    }\n    if (to !== toDate) {\n      setToDate(to);\n    }\n  }\n\n  function validateSearch() {\n    searchInfo = {\n      fromAirport: fromAirport,\n      toAirport: toAirport,\n      fromDate: fromDate,\n      toDate: toDate,\n    }\n  }\n\n  return [{\n    fromAirport: fromAirport,\n    toAirport: toAirport,\n    fromDate: fromDate,\n    toDate: toDate,\n  }, updateAirports, updateDates, validateSearch];\n}\n\nexport default useSearchInfo;\n","import { useState, useEffect } from 'react';\n\nimport { apiendpoint } from '../constants';\n\nlet globalAirports = {};\n\nconst url = () => (\n  `${apiendpoint}/airports`\n);\n\nconst fetchAPI = async() => {\n  const response = await fetch(url());\n  return await response.json();\n};\n\nfunction useAirports() {\n  const [airports, setAirports] = useState(globalAirports);\n\n  // API Request\n  useEffect(() => {\n    let isMounted = true;\n    fetchAPI().then(response => {\n      // Avoid updating state if the component unmounted before the fetch completes\n      if (!isMounted) {\n        return;\n      }\n      const data = {}\n      response.forEach(airport => {\n        data[airport.id] = {\n          id: airport.id,\n          name: airport.name,\n          code: airport.code,\n        }\n      });\n      setAirports(data);\n      globalAirports = data;\n    }).catch(err => {\n      console.error(err);\n    });\n\n    return () => {\n      isMounted = false;\n    };\n\n  }, []);\n\n  return airports;\n}\n\nexport default useAirports;\n","import DayPicker, { DateUtils } from 'react-day-picker';\nimport 'react-day-picker/lib/style.css';\n\nimport useSearchInfo from '../../hooks/useSearchInfo.js';\nimport useAirports from '../../hooks/useAirports.js';\n\nimport './home.css';\n\nfunction Home({flightsState}) {\n  const [searchInfo, updateAirports, updateDates, validateSearch] = useSearchInfo();\n  const airports = useAirports();\n\n  function handleDays(day, { selected }) {\n    const range = DateUtils.addDayToRange(day, {from: searchInfo.fromDate, to: searchInfo.toDate});\n    if (range.from && range.to && range.from.toUTCString() === range.to.toUTCString()) {\n      updateDates({from: undefined, to: undefined});\n    } else {\n      updateDates(range);\n    }\n  }\n\n  function handleAirports({from, to}) {\n    updateAirports({from, to});\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    validateSearch();\n    flightsState();\n  }\n\n  const options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'};\n  const { from, to } = {from: searchInfo.fromDate, to: searchInfo.toDate};\n  const modifiers = { start: from, end: to };\n\n  \n  const airportOptions = (key) => (Object.values(airports).map((airport, i) => (\n    <option key={`${key}.${i}`} value={airport.id}>{airport.name}</option>\n  )));\n\n  return (\n    <main className='flex-shrink-0'>\n      <div className='container'>\n        <h1 className='mt-5'>Not So Green</h1>\n        <p className='lead'>Book your flight and discover new worlds.</p>\n        <form onSubmit={handleSubmit}>\n          <div className='form-floating mb-3'>\n            <select\n              value={searchInfo.fromAirport}\n              onChange={({target}) => handleAirports({from: target.value, to: searchInfo.toAirport})}\n              className='form-select'\n              id='floatingSelect'\n            >\n              <option>...</option>\n              {airportOptions('from')}\n            </select>\n            <label htmlFor=\"floatingSelect\">From</label>\n          </div>\n          <div className='form-floating mb-3'>\n            <select\n              value={searchInfo.toAirport}\n              onChange={({target}) => handleAirports({from: searchInfo.fromAirport, to: target.value})}\n              className='form-select'\n              id='floatingSelect'\n            >\n              <option>...</option>\n              {airportOptions('to')}\n            </select>\n            <label htmlFor=\"floatingSelect\">To</label>\n          </div>\n          <div className='mb-3'>\n            <DayPicker\n              className='Selectable'\n              numberOfMonths={2}\n              onDayClick={handleDays}\n              modifiers={modifiers}\n              selectedDays={[from, { from, to }]}\n            />\n          </div>\n          {searchInfo.fromAirport && searchInfo.toAirport && from &&\n          <div className='card mb-3'>\n            <div className='card-header'>\n              Ready to set the earth on fire?\n            </div>\n            <div className='card-body'>\n              <h5 className='card-title'>{airports[searchInfo.fromAirport].code} - {airports[searchInfo.toAirport].code}</h5>\n              <p className='lead'>From</p>\n              <p>{from.toLocaleDateString(undefined, options)}</p>\n              {to && (<>\n                <p className='lead'>To</p>\n                <p>{to.toLocaleDateString(undefined, options)}</p>\n              </>)}\n              <button className=\"btn btn-primary\" type=\"submit\">Confirm</button>\n            </div>\n          </div>\n          }\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Home;\n","import { useState, useEffect } from 'react';\n\nimport { apiendpoint } from '../constants';\n\nimport useSearchInfo from './useSearchInfo.js';\n\nconst url = (fromAirport, toAirport, date) => (\n  `${apiendpoint}/flights/airports/${fromAirport}-${toAirport}/date/${date.valueOf()}`\n);\n\nconst fetchAPI = async(fromAirport, toAirport, date) => {\n  const response = await fetch(url(fromAirport, toAirport, date));\n  return await response.json();\n};\n\nfunction useFlights() {\n  const [lookFirst, setLookFirst] = useState(true);\n  const [flights, setFlights] = useState([]);\n  const [searchInfo, ] = useSearchInfo();\n\n  // Set looking flight\n  let fromAirport, toAirport, date;\n  if (lookFirst) {\n    [fromAirport, toAirport, date] = [searchInfo.fromAirport, searchInfo.toAirport, searchInfo.fromDate];\n  } else {\n    [fromAirport, toAirport, date] = [searchInfo.toAirport, searchInfo.fromAirport, searchInfo.toDate];\n  }\n  function loadFlights() {\n    // Fetch API\n    let isMounted = true;\n    fetchAPI(fromAirport, toAirport, date).then(responseJSON => {\n      if (!isMounted) {\n        return;\n      }\n      const data = {}\n      responseJSON.forEach(flight => {\n        data[flight.id] = {\n          id: flight.id,\n          from: flight.from,\n          to: flight.to,\n          departure: new Date(flight.departure),\n          arrival: new Date(flight.arrival),\n          price: flight.price,\n        };\n      });\n      setFlights(data);\n    });\n\n    return () => {\n      isMounted = false;\n    }; \n  }\n\n  // API Request\n  useEffect(loadFlights, [lookFirst, fromAirport, toAirport, date]);\n\n  return [flights, {\n    isFirst: lookFirst,\n    fromAirport: fromAirport,\n    toAirport: toAirport,\n    date: date,\n  }, setLookFirst];\n}\n\nexport default useFlights;\n","import { useState } from 'react';\n\nimport { createHash } from 'crypto';\n\nimport { apiendpoint } from '../constants';\n\n// NOTE: Local Store\nlet user = {isConnected:false, flights: {}}\n\nfunction useUser(auth=false) {\n  // TODO: SQL\n  const [, setIsConnected] = useState(user.isConnected);\n  const [, setFlights] = useState(user.flights);\n  const [flag, setFlag] = useState(false); // to trigger the re-render pipeline\n\n  function setUserFlight(localFlight) {\n    user.flights[localFlight.id] = localFlight;\n    setFlights(user.flights);\n    setFlag(!flag);\n  }\n\n  function removeUserFlight(flightId) {\n    delete user.flights[flightId];\n    setFlights(user.flights);\n    setFlag(!flag);\n  }\n\n  function signOut() {\n    user.isConnected = false;\n    user.token = undefined;\n    user.isAdmin = undefined;\n    user.email = undefined;\n    user.password = undefined;\n    setIsConnected(user.isConnected);\n    setFlag(!flag);\n  }\n\n  // TODO: Add Salt and Pepper ;)\n  async function signIn(email, password) {\n    // Hash password\n    const passwordHash = createHash('sha256').update(password).digest('hex');\n    // Ask for token\n    const responseJSON = await fetch(apiendpoint + '/signin', {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          email: email,\n          passwordHash: passwordHash,\n      }),\n    }).then(response => response.json());\n\n    if (responseJSON && responseJSON.status === 'connected') {\n      user.isConnected = true;\n      user.token = responseJSON.token;\n      user.isAdmin = responseJSON.isAdmin;\n      user.email = email;\n      user.password = password;\n      setIsConnected(user.isConnected);\n    } else {\n      signOut()\n    }\n  }\n\n  if (auth) {\n    return signIn\n  } else {\n    return  [user, setUserFlight, signOut, removeUserFlight, flag]\n  }\n}\n\nexport default useUser;\n","import useFlights from '../../hooks/useFlights.js';\nimport useUser from '../../hooks/useUser.js';\nimport useAirports from '../../hooks/useAirports';\n\nfunction Flights({checkoutState}) {\n  const airports = useAirports();\n  const [flights, details, setLookFirst] = useFlights();\n  const [, setFlight, ] = useUser();\n\n  function handleClickFlight(value) {\n      setFlight(flights[value]);\n      if (details.isFirst) {\n        setLookFirst(false)\n      } else {\n        checkoutState();\n      }\n      \n  }\n  \n  const options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour:'2-digit', minute:'2-digit', second:'2-digit'};\n\n  return (\n    <main className='flex-shrink-0'>\n      <div className='container'>\n      <h2 className='my-3'>{airports[details.fromAirport].name} - {airports[details.toAirport].name}</h2>\n        <div>\n          {Object.values(flights).map((flight, i) => (\n            <div key={i} className=\"card mb-3\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{`$${flight.price}`}</h5>\n                <p className='card-text lead'>Departure</p>\n                <p className='card-text'>{flight.departure.toLocaleDateString(undefined, options)}</p>\n                <p className='card-text lead'>Arrival</p>\n                <p className='card-text'>{flight.arrival.toLocaleDateString(undefined, options)}</p>\n                <button onClick={() => handleClickFlight(flight.id)} className=\"btn btn-primary\">Book</button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default Flights;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAuUAAALlAF37bb0AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACyO34QAAAP90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+6wjZNQAAEldJREFUGBntwQmclYPCBvDnnFlrWqcp7SVTvhIVuUIqNxXqJnJRn6VCklEUyXaNKKR7ExLdSxHJEqJQKSKJSoYkNUqL9r1pmu2c57s/3/W7lplz5j3n3ef5/wERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERQc2u1907Zc6KbQd/tmPV20/fO+i8WpAKoErnkS/nslQbX7m9S1WIj9Uf8n4hIwqteOi8VIgfZY5eHmZ5HFt0558SIL4SOP/dMA048OZNJ0L8Im3oOhq3bfpV9SHeV2XMQcZq7eMXVYd4WcLgnYxLyfIHz02BeNQFa2iC/AWjTgtCPKfFAppm3+tDMiFeknxvAc21+dn+x0E84py1tMI3E3tVhfxXSu3Mk5s3ql01Ca5SY2qYVin+9P5OSajI6p4z6P5J099YtHL9rgL+oiRv77YN36z4ZMHbr77wzKRH7r+lNpxzxU5aK++9kW0DqHDqnD1g7CtfHmF0e8fUgWOavEs77Hnl+uNRUdTumT1r1SGW0/obK8E55+2nbTZOvbw2fK5yxxGzNtKApX2CcNCwEtoq/NWEC9LgTwknX/vMV8U0IvRaB0SV3DYIq9xGBxR9/LezE+EvtS99dEkeDcp7ohmiqjbqJ+6bNbA+rNCukA45PPeWk+ET1XpNzAnTsB13pSOqBuMP8f/ljO8Is1X6jk7aOXNQE3hc6p/HflbCGKwZlIyoWk0r5K+sH10PphpCx22Ycmkt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mmsJxFMG0VyLIN6STVNNg3jMczTTfRCPSZxPEw2AeE3V1TTPuRDPqb+ZpmkG8Z5WB2iSwiSIB3UupDkWQTypX5imGAnxplE0RSuIR02mCX6EeFXwLcZvCsSzKi9n3HpCvKt2LuOUmwDxsMw9jM+NEE/rkM947K4E8bY+IcbhXojXZTF2eekQzxvPmD0M8b7ALMZofSWID6QsYUxCHSG+UHMtY/EYxCeabKdxuZUhftHuCI0q6QTxjx7FNCY8EOIng2jMbRB/yaYRD0P85jmW378gvpM4n+U1LQHiP1VXs1yKh0F8qd5mlsPuLhCfanWAUa1qDPGtzoWMrPjxVIiP9QszknktIf42imVb0x3ie5NZhm1DEiD+F5zG0nw3MBlSMYwo4e8tuygAqTB6HOCvheeeA6lQGo/dyl8cnN4aUuEEe8z4eHXuri8e6JgIERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESm//wN/ZdWVsmQj7wAAAABJRU5ErkJggg==\"","import { useState } from 'react';\n\nfunction useRedeems() {\n  const [redeems, setRedeems] = useState([]);\n\n  function addRedeem(redeem) {\n    setRedeems([...redeems, {\n      code: redeem.toUpperCase(),\n      discount: 5 + Math.floor(Math.random() * 10),\n    }]);\n  }\n\n  return [redeems, addRedeem];\n}\n\nexport default useRedeems;\n","import { useState } from 'react';\n\nimport airTransport from '../../assets/air-transport.png';\n\nimport useRedeems from '../../hooks/useRedeems.js';\nimport useUser from '../../hooks/useUser.js';\n\nfunction Checkout({completionState}) {\n  const [redeem, setRedeem] = useState('');\n  const [redeems, addRedeem] = useRedeems();\n  const [user, ] = useUser();\n\n  function handleChangeRedeem({target}) {\n    setRedeem(target.value);\n  }\n\n  function handleSubmitRedeem(e) {\n    e.preventDefault();\n    if (redeem) {\n      addRedeem(redeem);\n      setRedeem('');\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    completionState();\n  }\n\n  function getTotal() {\n    const totalWithoutDiscount = Object.values(user.flights).map(f => f.price).reduce((p, c) => (p + c), 0);\n    const totalDiscount = redeems.map(r => r.discount).reduce((p, c) => (p + c), 0);\n    return Math.max(totalWithoutDiscount - totalDiscount, 0);\n  }\n\n  const options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'};\n\n  return (\n    <div className='container pb-5'>\n      <main>\n        <div className='py-5 text-center'>\n          <img className='d-block mx-auto mb-4' src={airTransport} alt='' width='72' height='72'/>\n          <h2>Time to pay</h2>\n          <p className='lead'>We won't use your credentials for anything worse than you're already doing.</p>\n        </div>\n\n        <div className='row g-5'>\n          <div className='col-md-5 col-lg-4 order-md-last'>\n            <h4 className='d-flex justify-content-between align-items-center mb-3'>\n              <span className='text-primary'>Your cart</span>\n              <span className='badge bg-primary rounded-pill'>3</span>\n            </h4>\n            <ul className='list-group mb-3'>\n              {Object.values(user.flights).map((flight, i) => (\n                <li key={`flight-${i}`} className='list-group-item d-flex justify-content-between lh-sm'>\n                  <div>\n                    <h6 className='my-0'>{`${flight.from} - ${flight.from}`}</h6>\n                    <small className='text-muted'>{flight.departure.toLocaleDateString(undefined, options)}</small>\n                  </div>\n                  <span className='text-muted'>{`$${flight.price}`}</span>\n                </li>\n              ))}\n              {redeems.map((r, i) => (\n                <li key={`redeem-${i}`} className='list-group-item d-flex justify-content-between bg-light'>\n                  <div className='text-success'>\n                    <h6 className='my-0'>Promo code</h6>\n                    <small>{r.code}</small>\n                  </div>\n                  <span className='text-success'>{`-$${r.discount}`}</span>\n                </li>\n              ))\n              }\n              <li className='list-group-item d-flex justify-content-between'>\n                <span>Total (USD)</span>\n                <strong>${getTotal()}</strong>\n              </li>\n            </ul>\n\n            <form onSubmit={handleSubmitRedeem} className='card p-2'>\n              <div className='input-group'>\n                <input value={redeem} onChange={handleChangeRedeem} type='text' className='form-control' placeholder='Promo code'/>\n                <button type='submit' className='btn btn-secondary'>Redeem</button>\n              </div>\n            </form>\n          </div>\n          <div className='col-md-7 col-lg-8'>\n            <h4 className='mb-3'>Billing address</h4>\n            <form onSubmit={handleSubmit}>\n              <div className='row g-3'>\n                <div className='col-sm-6'>\n                  <label htmlFor='firstName' className='form-label'>First name</label>\n                  <input type='text' className='form-control' id='firstName' placeholder='' defaultValue='' required=''/>\n                  <div className='invalid-feedback'>\n                    Valid first name is required.\n                  </div>\n                </div>\n\n                <div className='col-sm-6'>\n                  <label htmlFor='lastName' className='form-label'>Last name</label>\n                  <input type='text' className='form-control' id='lastName' placeholder='' defaultValue='' required=''/>\n                  <div className='invalid-feedback'>\n                    Valid last name is required.\n                  </div>\n                </div>\n\n                <div className='col-12'>\n                  <label htmlFor='username' className='form-label'>Username</label>\n                  <div className='input-group has-validation'>\n                    <span className='input-group-text'>@</span>\n                    <input type='text' className='form-control' id='username' placeholder='Username' required=''/>\n                  <div className='invalid-feedback'>\n                      Your username is required.\n                    </div>\n                  </div>\n                </div>\n\n                <div className='col-12'>\n                  <label htmlFor='email' className='form-label'>Email <span className='text-muted'>(Optional)</span></label>\n                  <input type='email' className='form-control' id='email' placeholder='you@example.com'/>\n                  <div className='invalid-feedback'>\n                    Please enter a valid email address for shipping updates.\n                  </div>\n                </div>\n\n                <div className='col-12'>\n                  <label htmlFor='address' className='form-label'>Address</label>\n                  <input type='text' className='form-control' id='address' placeholder='1234 Main St' required=''/>\n                  <div className='invalid-feedback'>\n                    Please enter your shipping address.\n                  </div>\n                </div>\n\n                <div className='col-12'>\n                  <label htmlFor='address2' className='form-label'>Address 2 <span className='text-muted'>(Optional)</span></label>\n                  <input type='text' className='form-control' id='address2' placeholder='Apartment or suite'/>\n                </div>\n\n                <div className='col-md-5'>\n                  <label htmlFor='country' className='form-label'>Country</label>\n                  <select className='form-select' id='country' required=''>\n                    <option defaultValue=''>Choose...</option>\n                    <option>United States</option>\n                  </select>\n                  <div className='invalid-feedback'>\n                    Please select a valid country.\n                  </div>\n                </div>\n\n                <div className='col-md-4'>\n                  <label htmlFor='state' className='form-label'>State</label>\n                  <select className='form-select' id='state' required=''>\n                    <option defaultValue=''>Choose...</option>\n                    <option>California</option>\n                  </select>\n                  <div className='invalid-feedback'>\n                    Please provide a valid state.\n                  </div>\n                </div>\n\n                <div className='col-md-3'>\n                  <label htmlFor='zip' className='form-label'>Zip</label>\n                  <input type='text' className='form-control' id='zip' placeholder='' required=''/>\n                  <div className='invalid-feedback'>\n                    Zip code required.\n                  </div>\n                </div>\n              </div>\n\n              <hr className='my-4'/>\n\n              <div className='form-check'>\n                <input type='checkbox' className='form-check-input' id='save-info'/>\n                <label className='form-check-label' htmlFor='save-info'>Save this information for next time</label>\n              </div>\n\n              <hr className='my-4'/>\n\n              <h4 className='mb-3'>Payment</h4>\n\n              <div className='row gy-3'>\n                <div className='col-md-6'>\n                  <label htmlFor='cc-name' className='form-label'>Name on card</label>\n                  <input type='text' className='form-control' id='cc-name' placeholder='' required=''/>\n                  <small className='text-muted'>Full name as displayed on card</small>\n                  <div className='invalid-feedback'>\n                    Name on card is required\n                  </div>\n                </div>\n\n                <div className='col-md-6'>\n                  <label htmlFor='cc-number' className='form-label'>Credit card number</label>\n                  <input type='text' className='form-control' id='cc-number' placeholder='' required=''/>\n                  <div className='invalid-feedback'>\n                    Credit card number is required\n                  </div>\n                </div>\n\n                <div className='col-md-3'>\n                  <label htmlFor='cc-expiration' className='form-label'>Expiration</label>\n                  <input type='text' className='form-control' id='cc-expiration' placeholder='' required=''/>\n                  <div className='invalid-feedback'>\n                    Expiration date required\n                  </div>\n                </div>\n\n                <div className='col-md-3'>\n                  <label htmlFor='cc-cvv' className='form-label'>CVV</label>\n                  <input type='text' className='form-control' id='cc-cvv' placeholder='' required=''/>\n                  <div className='invalid-feedback'>\n                    Security code required\n                  </div>\n                </div>\n              </div>\n              <hr className='my-4'/>\n\n              <button className='w-100 btn btn-primary btn-lg' type='submit'>Continue to checkout</button>\n            </form>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default Checkout;\n","function Completion({homeState}) {\n\n  function handleClick(e) {\n      e.preventDefault();\n      homeState();\n  }\n\n  return (\n    <div className=\"text-center cover-container d-flex w-100 h-100 p-3 mx-auto flex-column\">\n      <div className='mb-auto'></div>\n      <main className=\"px-3\">\n        <h1>Well done.</h1>\n        <p className=\"lead\">To balance the carbon footprint of your flight, you must stop eating for 153 days.</p>\n        <button onClick={handleClick} className=\"btn btn-primary\">Return to home</button>\n      </main>\n      <div className='mt-auto'></div>\n    </div>\n  )\n}\n\nexport default Completion;\n","import { useState } from 'react';\n\nimport useUser from '../../hooks/useUser.js';\n\nimport airTransport from '../../assets/air-transport.png';\n\nimport './signin.css'\n\nfunction SignIn({previousState}) {\n  const signIn = useUser(true)\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleChangeEmail({target}) {\n    setEmail(target.value);\n  }\n\n  function handleChangePassword({target}) {\n    setPassword(target.value);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    await signIn(email, password);\n    previousState();\n  }\n\n  return (\n    <main className=\"form-signin text-center\">\n      <form onSubmit={handleSubmit}>\n        <img className=\"mb-4\" src={airTransport} alt=\"\" width=\"72\" height=\"72\"/>\n        <h1 className=\"h3 mb-3 fw-normal\">Please sign in</h1>\n\n        <div className=\"form-floating\">\n          <input onChange={handleChangeEmail} type=\"email\" className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\"/>\n          <label htmlFor=\"floatingInput\">Email address</label>\n        </div>\n        <div className=\"form-floating\">\n          <input onChange={handleChangePassword} type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\"/>\n          <label htmlFor=\"floatingPassword\">Password</label>\n        </div>\n\n        <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Sign in</button>\n      </form>\n    </main>\n  );\n}\n\nexport default SignIn;\n","import airTransport from '../../assets/air-transport.png';\n\nimport useUser from '../../hooks/useUser';\n\nfunction Profile({previousState, checkoutState}) {\n  const [user, , signOut, removeFlight] = useUser();\n\n  function handleSignOutClick() {\n    signOut();\n    previousState();\n  }\n\n  function handleCloseClick(flightId) {\n    removeFlight(flightId);\n  }\n\n  function handleCheckout() {\n    checkoutState();\n  }\n\n  const options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour:'2-digit', minute:'2-digit', second:'2-digit'};\n  return (\n    <div className='container pb-5'>\n      <main>\n        <div className='py-5 text-center'>\n          <img className='d-block mx-auto mb-4' src={airTransport} alt='' width='72' height='72'/>\n          <h2>Your profile</h2>\n          <p className='lead'>Just think about yourself.</p>\n          <button onClick={handleSignOutClick} className='btn btn-primary'>Sign out</button>\n        </div>\n        <div className='list-group mb-5'>\n          {Object.values(user.flights).map((flight, i) => (\n            <div key={i} className='list-group-item list-group-item-action'>\n              <div className='d-flex w-100 justify-content-between'>\n                <h5 className='mb-1'>{flight.from} - {flight.to}</h5>\n                <button onClick={() => handleCloseClick(flight.id)} type='button' className='btn-close' aria-label='Close'></button>\n              </div>\n              <p className='mb-1'>{flight.departure.toLocaleDateString(undefined, options)} - {flight.arrival.toLocaleDateString(undefined, options)}</p>\n              <small>${flight.price}</small>\n            </div>\n          ))}\n        </div>\n        {Object.values(user.flights).length > 0 &&\n        <div className='d-grid'>\n          <button onClick={handleCheckout} className='btn btn-outline-primary' type='submit'>Checkout</button>\n        </div> \n        }\n      </main>\n    </div>\n  )\n}\n\nexport default Profile;\n","import { useState, useEffect } from 'react';\n\nimport { apiendpoint } from '../constants';\n\nconst url = (object) => (\n  `${apiendpoint}/${object}`\n);\n\nconst fetchAPI = async(object) => {\n  const response = await fetch(url(object));\n  return await response.json();\n};\n\nconst allowedName = [\n    'users',\n    'airports',\n    'employees',\n    'connections',\n    'airplanes',\n    'flights',\n    'pilots',\n    'crew-members',\n    'departures',\n    'consumers'\n]\n\nlet lastMountedNames = [];\n\nfunction useObjects(names) {\n    const [objects, setObjects] = useState({});\n\n    lastMountedNames = [];\n    names.forEach(name => {\n        if (allowedName.includes(name)) {\n            lastMountedNames.push(name);\n        };\n    });\n\n    function loadData() {\n      let isMounted = true;\n      const keys = lastMountedNames;\n      Promise.all(keys.map((key, ) => (\n        fetchAPI(key)\n      ))).then(responses => {\n          // Avoid updating state if the component unmounted before the fetch completes\n        if (!isMounted) {\n            return;\n        }\n\n        const localObjects = {}\n        responses.forEach((response, index) => {\n            const localResponse = response.map((item) => {\n              const localItem = {};\n              Object.entries(item).forEach(([key, value]) => {\n                localItem[key.replace(/_/g, '-')] = value\n              });\n              return localItem;\n            })\n            localObjects[keys[index]] = localResponse;\n        });\n        setObjects(localObjects);\n      }).catch(err => {\n        console.error(err);\n      });\n  \n      return () => {\n        isMounted = false;\n      };\n    }\n  \n    // API Request\n    useEffect(loadData, []);\n  \n    return [objects, loadData];\n  }\n  \n  export default useObjects;","import { useState } from 'react';\n\nimport { createHash } from 'crypto';\n\nimport { apiendpoint } from '../../constants';\n\nimport useObjects from '../../hooks/useObjects.js';\nimport useUser from '../../hooks/useUser.js';\n\nconst capitalize = (string) => (\n    string.split('-').map((word, i) => (word[0].toUpperCase() + word.slice(1))).join(' ')\n);\n\nconst databaseSchema = {\n    'user': {\n        'fields': [\n            ['email', 'text'],\n            ['password-hash', 'text'],\n            ['admin', 'bool']\n        ]\n    },\n    'airport': {\n        'fields': [\n            ['name', 'text'],\n            ['code', 'text'],\n        ]\n    },\n    'airplane': {\n        'fields': [\n            ['number', 'number'],\n            ['type', 'text'],\n        ]\n    },\n    'employee': {\n        'fields': [\n            ['security-number', 'number'],\n            ['surname', 'text'],\n            ['name', 'text'],\n            ['address', 'text'],\n            ['salary', 'number'],\n            ['user-id', '$user$email'],\n        ]\n    },\n    'consumer': {\n        'fields': [\n            ['number', 'number'],\n            ['surname', 'text'],\n            ['name', 'text'],\n            ['user-id', '$user$email'],\n        ]\n    },\n\n    'connection': {\n        'fields': [\n            ['departure-airport-id', '$airport$name'],\n            ['arrival-airport-id', '$airport$name'],\n        ]\n    },\n    'pilot': {\n        'fields': [\n            ['employee-id', '$employee$name.surname'],\n            ['license-number', 'text'],\n        ]\n    },\n    'crew-member': {\n        'fields': [\n            ['employee-id', '$employee$name.surname'],\n            ['role', 'text'],\n        ]\n    },\n\n    'flight': {\n        'fields': [\n            ['from', 'date'],\n            ['to', 'date'],\n            ['number', 'number'],\n            ['connection-id', '$connection$id'],\n            ['airplane-id', '$airplane$number'],\n            ['departure-day', 'text'],\n            ['arrival-day', 'text'],\n            ['departure-time', 'time'],\n            ['arrival-time', 'time'],\n        ]\n    },\n    \n    'departure': {\n        'fields': [\n            ['flight-id', '$flight$from.to'],\n            ['date', 'date'],\n            ['pilot-id', '$pilot$name.surname'],\n            ['optional-pilot-id', '$pilot$name.surname'],\n            ['first-crew-member-id', '$crew-member$name.surname'],\n            ['second-crew-member-id', '$crew-member$name.surname'],\n            ['number-of-empty-seat', 'number'],\n            ['number-of-reserved-seat', 'number'],\n        ]\n    },\n\n    'ticket': {\n        'fields': [\n            ['number', 'number'],\n            ['date-time-of-issue', 'datetime-local'],\n            ['price', 'number'],\n            ['departure-id', '$departure$date'],\n            ['consumer-id', '$consumer$date'],\n        ]\n    },\n}\n\nfunction Admin() {\n    const [state, setState] = useState('create');\n    const [showCollapse, setShowCollapse] = useState(false);\n    const [rawHash, setRawHash] = useState('');\n    const [user, , ] = useUser();\n\n    const [editedObject, setEditedObject] = useState({});\n    const [objects, reload] = useObjects([\n        'users',\n        'airports',\n        'employees',\n        'connections',\n        'airplanes',\n        'flights',\n        'pilots',\n        'crew-members',\n        'departures',\n        'consumers'\n    ]);\n\n    function handleCollapseClick() {\n        setShowCollapse(!showCollapse);\n    }\n\n    function handleTabClick(name) {\n        setEditedObject({}); // remove if you want edit to be persitent across tabs\n        setState(name);\n    }\n\n    function handleChangeObject(object, field, value) {\n        if (field === 'id') {\n            setEditedObject({\n                ...editedObject,\n                [object]: {\n                    [field]: parseInt(value),\n                },\n            });\n            return;\n        }\n\n        if (editedObject[object]) {\n            setEditedObject({\n                ...editedObject,\n                [object]: {\n                    ...editedObject[object],\n                    [field]: value,\n                },\n            });\n        } else {\n            setEditedObject({\n                ...editedObject,\n                [object]: {\n                    [field]: value,\n                },\n            });\n        }\n    }\n\n    async function handleSubmitCreateObject(object) {\n        // TODO: Display message when create did not succeed (never)\n        // TODO: Do not submit if one field is undefined \n        const responseJSON = await fetch(apiendpoint + '/admin/create', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                token: user.token,\n                object: object,\n                data: editedObject[object]\n            }),\n        }).then(response => response.json());\n        await reload();\n        console.log(responseJSON);\n    }\n\n    async function handleSubmitUpdateObject(object) {\n        // TODO: Display message when update did not succeed (never)\n        // TODO: Do not submit if one field is undefined \n        const responseJSON = await fetch(apiendpoint + '/admin/update', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                token: user.token,\n                object: object,\n                objectId: editedObject[object] && editedObject[object].id,\n                data: editedObject[object],\n            }),\n        }).then(response => response.json());\n        await reload()\n        console.log(responseJSON);\n    }\n\n    async function handleSubmitDeleteObject(object) {\n        // TODO: Display message when delete did not succeed\n        const responseJSON = await fetch(apiendpoint + '/admin/delete', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                token: user.token,\n                object: object,\n                objectId: editedObject[object].id\n            }),\n        }).then(response => response.json());\n        await reload();\n        console.log(responseJSON);\n    }\n\n    let forms;\n    if (state === 'create') {\n        forms = Object.entries(databaseSchema).map(([key, value], i) => (\n            <form key={i} className='mb-5' onSubmit={(e) => {e.preventDefault(); handleSubmitCreateObject(key)}}>\n                <h4 className='mb-3'>{capitalize(key)}</h4>\n                {\n                    value.fields.map(([field, type], j) => {\n                        if (type[0] === '$') {\n                            const [localObject, localFieldsString] = type.slice(1).split('$');\n                            const localFields = localFieldsString.split('.')\n                            return (\n                                <div key={`${i}$${j}`} className='form-floating mb-3'>\n                                    <select\n                                        value={editedObject[key] ? editedObject[key][field] : undefined}\n                                        onChange={({target}) => (handleChangeObject(key, field, target.value))}\n                                        className='form-select'\n                                        id={`floatingselect$${key}$${field}`}\n                                    >\n                                        <option>...</option>\n                                        {(objects[localObject + 's'] || []).map((o, i) => (\n                                            <option key={`floatingselect$${key}$${field}$${i}`} value={o.id}>{localFields.map(f => o[f]).join(' ')}</option>\n                                        ))}\n                                    </select>\n                                    <label htmlFor={`floatingselect$${key}$${field}`}>{capitalize(field)}</label>\n                                </div>\n                            );\n                        } else if (type === 'bool') {\n                            return (\n                                <div key={`${i}$${j}`} className=\"form-check form-switch mb-3\">\n                                    <input\n                                        onChange={({target}) => handleChangeObject(key, field, target.checked)}\n                                        className=\"form-check-input\"\n                                        type=\"checkbox\"\n                                        role=\"switch\"\n                                        id=\"flexSwitchCheckDefault\"/>\n                                    <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\">{capitalize(field)}</label>\n                                </div>\n                            );\n                        } else {\n                            return (\n                                <div key={`${i}$${j}`} className='form-floating mb-3'>\n                                    <input\n                                        onChange={({target}) => (handleChangeObject(key, field, target.value))}\n                                        type={type}\n                                        className='form-control'\n                                        id={`floating$${key}$${field}`}\n                                        placeholder={field}\n                                        value={editedObject[key] && editedObject[key][field] ? editedObject[key][field] : ''}\n                                        required/>\n                                    <label htmlFor={`floating$${key}$${field}`}>{capitalize(field)}</label>\n                                </div>\n                            );\n                        }\n                    })\n                }\n                <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Create</button>\n            </form>\n            ));\n    } else if (state === 'update') {\n        forms = Object.entries(databaseSchema).map(([key, value], i) => (\n            <form key={i} className='mb-5' onSubmit={(e) => {e.preventDefault(); handleSubmitUpdateObject(key)}}>\n                <h4 className='mb-3'>{capitalize(key)}</h4>\n                <div key={`selectmainupdate$${i}`} className='form-floating mb-3'>\n                    <select\n                            value={editedObject[key] ? editedObject[key].id : undefined}\n                            onChange={({target}) => (handleChangeObject(key, 'id', target.value))}\n                            className='form-select'\n                            id={`floatingselectmainupdate${key}`}\n                        >\n                            <option>...</option>\n                            {(objects[key + 's'] || []).map((o, k) => (\n                                <option key={`floatingselectmainupdate$${key}$${k}`} value={o.id}>{o.id}</option>\n                            ))}\n                    </select>\n                    <label htmlFor={`floatingselectmainupdate$${key}`}>{capitalize(key)}</label>\n                </div>\n                {editedObject[key] && editedObject[key].id &&\n                    value.fields.map(([field, type], j) => {\n                        if (type[0] === '$') {\n                            const [localObject, localFieldsString] = type.slice(1).split('$');\n                            const localFields = localFieldsString.split('.')\n\n                            // Retrieve value from API or from local (priority to local)\n                            let value;\n                            if (editedObject[key]) {\n                                if (editedObject[key][field]) {\n                                    value = editedObject[key][field]\n                                } else {\n                                    const item = (objects[key + 's'] || []).find(el => el.id === editedObject[key].id);\n                                    console.log('Update item', item);\n                                    if (item) {\n                                        value = item[field];\n                                    }\n                                }\n                            }\n                            \n                            return (\n                                <div key={`${i}$${j}`} className='form-floating mb-3'>\n                                    <select\n                                        value={value}\n                                        onChange={({target}) => (handleChangeObject(key, field, target.value))}\n                                        className='form-select'\n                                        id={`floatingselect$${key}$${field}`}\n                                    >\n                                        {(objects[localObject + 's'] || []).map((o, i) => (\n                                            <option key={`floatingselect$${key}$${field}$${i}`} value={o.id}>{localFields.map(f => o[f]).join(' ')}</option>\n                                        ))}\n                                    </select>\n                                    <label htmlFor={`floatingselect$${key}$${field}`}>{capitalize(field)}</label>\n                                </div>\n                            );\n                            \n                        } else if (type === 'bool') {\n                            // Retrieve value from API or from local (priority to local)\n                            let value = false;\n                            if (editedObject[key]) {\n                                if (editedObject[key][field]) {\n                                    value = editedObject[key][field]\n                                } else {\n                                    const item = (objects[key + 's'] || []).find(el => el.id === editedObject[key].id);\n                                    console.log('Update item', item);\n                                    if (item) {\n                                        value = item[field];\n                                    }\n                                }\n                            }\n                            return (\n                                <div key={`${i}$${j}`} className=\"form-check form-switch mb-3\">\n                                    <input\n                                        onChange={({target}) => handleChangeObject(key, field, target.checked)}\n                                        checked={value}\n                                        className=\"form-check-input\"\n                                        type=\"checkbox\"\n                                        role=\"switch\"\n                                        id=\"flexSwitchCheckDefault\"/>\n                                    <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\">{capitalize(field)}</label>\n                                </div>\n                            );\n                        } else {\n                            let value = '';\n                            if (editedObject[key]) {\n                                if (editedObject[key][field]) {\n                                    value = editedObject[key][field]\n                                } else {\n                                    const item = (objects[key + 's'] || []).find(el => el.id === editedObject[key].id);\n                                    if (item) {\n                                        value = item[field];\n                                    }\n                                }\n                            }\n                            return (\n                                <div key={`${i}$${j}`} className='form-floating mb-3'>\n                                    <input\n                                        onChange={({target}) => (handleChangeObject(key, field, target.value))}\n                                        type={type}\n                                        className='form-control'\n                                        id={`floating$${key}$${field}`}\n                                        placeholder={field}\n                                        value={value}\n                                        required/>\n                                    <label htmlFor={`floating$${key}$${field}`}>{capitalize(field)}</label>\n                                </div>\n                            );\n                        }\n                    })\n                }\n                <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Update</button>\n            </form>\n            ));\n    } else if (state === 'delete') {\n        forms = Object.entries(databaseSchema).map(([key, value], i) => (\n            <form key={i} className='mb-5' onSubmit={(e) => {e.preventDefault(); handleSubmitDeleteObject(key)}}>\n                <h4 className='mb-3'>{capitalize(key)}</h4>\n                <div key={`selectmaindelete$${i}`} className='form-floating mb-3'>\n                    <select\n                        value={editedObject[key] ? editedObject[key].id : undefined}\n                        onChange={({target}) => (handleChangeObject(key, 'id', target.value))}\n                        className='form-select'\n                        id={`floatingselectmaindelete$${key}`}\n                    >\n                        <option>...</option>\n                        {(objects[key + 's'] || []).map((o, k) => (\n                            <option key={`floatingselectmaindelete$${key}$${k}`} value={o.id}>{o.id}</option>\n                        ))}\n                    </select>\n                    <label htmlFor={`floatingselectmain$${key}`}>{capitalize(key)}</label>\n                </div>\n                <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Delete</button>\n            </form>\n            ));\n    }\n\n\n    const tabClassName = (name) => (`${(name === state) ? 'active ' : ''}nav-link btn btn-link`)\n\n    return (\n    <div className='container pb-5'>\n        <main>\n        <div className='py-5 text-center'>\n            <h2>You're the boss here!</h2>\n            <p className='lead'>Just do anything you want, fire is in your hand.</p>\n        </div>\n        <div className='mb-3'>\n            <button\n                className=\"btn btn-outline-primary mb-3\"\n                onClick={handleCollapseClick}\n            >\n                {showCollapse? 'Hide' : 'Show'} help to hash input\n            </button>\n            <div className={`collapse${showCollapse ? '.show' : ''}`}>\n                <div className=\"card card-body\">\n                    <div className='form-floating mb-3'>\n                        <input\n                            onChange={({target}) => (setRawHash(target.value))}\n                            type='text'\n                            className='form-control'\n                            value={rawHash}\n                            placeholder='Raw Hash'\n                            id='hashhelper'\n                        />\n                        <label htmlFor='hashhelper'>Raw input</label>\n                    </div>\n                    <h6 className=\"card-subtitle mb-2 text-muted\">Raw input hashed</h6>\n                    <p className='card-text'>{createHash('sha256').update(rawHash).digest('hex')}</p>  \n                </div>\n            </div>\n        </div>\n        <ul className='nav nav-tabs mb-3'>\n            <li className='nav-item'>\n                <button onClick={(e) => (handleTabClick('create'))} type='button' className={tabClassName('create')}>Create</button>\n            </li>\n            <li className='nav-item'>\n                <button onClick={(e) => (handleTabClick('update'))} type='button' className={tabClassName('update')}>Update</button>\n            </li>\n            <li className='nav-item'>\n                <button onClick={(e) => (handleTabClick('delete'))} type='button' className={tabClassName('delete')}>Delete</button>\n            </li>\n        </ul>\n        {forms}\n        </main>\n    </div>\n    );\n}\n\nexport default Admin;\n","import { useState } from 'react';\n\nimport Header from './components/header/header';\nimport Footer from './components/footer/footer';\n\nimport Home from './components/home/home';\nimport Flights from './components/flights/flights';\nimport Checkout from './components/checkout/checkout';\nimport Completion from './components/completion/completion';\nimport SignIn from './components/signin/signin';\nimport Profile from './components/profile/profile';\nimport Admin from './components/admin/admin';\n\nimport useUser from './hooks/useUser.js';\n\nfunction App() {\n  const [user, ] = useUser();\n  const [previousAppState, setPreviousAppState] = useState('home');\n  const [appState, setAppState] = useState('home');\n\n  function changeAppState(state) {\n    setPreviousAppState(appState);\n    setAppState(state);\n  }\n\n  if (appState === 'checkout' && !user.isConnected) {\n    changeAppState('signin');\n  }\n\n  if (appState === 'admin' && !user.isAdmin) {\n    setAppState('home'); // without redirect\n  }\n  \n  return (\n    <>\n      <Header\n        isConnected={user.isConnected}\n        isAdmin={user.isAdmin}\n        homeState={() => changeAppState('home')}\n        signInState={() => changeAppState('signin')}\n        profileState={() => changeAppState('profile')}\n        adminState={() => changeAppState('admin')}\n      />\n      {appState === 'home' && <Home flightsState={() => changeAppState('flights')}/>}\n      {appState === 'flights' && <Flights checkoutState={() => changeAppState('checkout')}/>}\n      {appState === 'checkout' && <Checkout completionState={() => changeAppState('completion')}/>}\n      {appState === 'completion' && <Completion homeState={() => changeAppState('home')}/>}\n      {appState === 'signin' && <SignIn previousState={() => changeAppState(previousAppState)}/>}\n      {appState === 'profile' && <Profile previousState={() => changeAppState(previousAppState)} checkoutState={() => changeAppState('checkout')}/>}\n      {appState === 'admin' && <Admin/>}\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// In package.json\n// \"homepage\": \"https://adrkacz.github.io/airline-company-app\",\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}