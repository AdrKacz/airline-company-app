(this["webpackJsonpairline-company-app"]=this["webpackJsonpairline-company-app"]||[]).push([[0],{125:function(e,t,c){},129:function(e,t){},13:function(e,t){t.apiendpoint="http://35.180.199.50"},131:function(e,t){},141:function(e,t){},143:function(e,t){},170:function(e,t){},171:function(e,t){},176:function(e,t){},178:function(e,t){},185:function(e,t){},204:function(e,t){},220:function(e,t,c){},221:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c.n(n),r=c(116),s=c.n(r),i=c(1),A=c(0);var l=function(e){var t=e.isConnected,c=e.isAdmin,n=e.homeState,a=e.signInState,r=e.profileState,s=e.adminState;return Object(A.jsx)("header",{children:Object(A.jsx)("nav",{className:"py-2 bg-light border-bottom",children:Object(A.jsx)("div",{className:"container d-flex flex-wrap",children:Object(A.jsxs)("ul",{className:"nav w-100",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),n()},className:"btn nav-link link-dark px-2",children:"Home"})}),t&&Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),r()},className:"btn nav-link link-dark px-2",children:"Profile"})}),!t&&Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),a()},className:"btn nav-link link-dark px-2",children:"Sign in"})}),c&&Object(A.jsx)("li",{className:"ms-auto nav-item",children:Object(A.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),s()},className:"btn nav-link link-dark px-2",children:"Admin"})})]})})})})};var o=function(){return Object(A.jsx)("footer",{className:"footer mt-auto py-3 bg-light",children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("span",{className:"text-muted",children:"Not So Green Airline Company, @AdrKacz, 2021"})})})},d=c(63),m=c.n(d),u=(c(123),{fromAirport:void 0,toAirport:void 0,fromDate:void 0,toDate:void 0});var j=function(){var e=Object(n.useState)(u.fromAirport),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(u.toAirport),s=Object(i.a)(r,2),A=s[0],l=s[1],o=Object(n.useState)(u.fromDate),d=Object(i.a)(o,2),m=d[0],j=d[1],b=Object(n.useState)(u.toDate),h=Object(i.a)(b,2),f=h[0],p=h[1];return[{fromAirport:c,toAirport:A,fromDate:m,toDate:f},function(e){var t=e.from,n=e.to;t!==c&&a(t),n!==A&&l(n)},function(e){var t=e.from,c=e.to;t!==m&&j(t),c!==f&&p(c)},function(){u={fromAirport:c,toAirport:A,fromDate:m,toDate:f}}]},b=c(5),h=c.n(b),f=c(9),p=c(13),O={},x=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p.apiendpoint,"/airports"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var v=function(){var e=Object(n.useState)(O),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=!0;return x().then((function(t){if(e){var c={};t.forEach((function(e){c[e.id]={id:e.id,name:e.name,code:e.code}})),a(c),O=c}})).catch((function(e){console.error(e)})),function(){e=!1}}),[]),c};c(125);var N=function(e){var t=e.flightsState,c=j(),n=Object(i.a)(c,4),a=n[0],r=n[1],s=n[2],l=n[3],o=v();function u(e){var t=e.from,c=e.to;r({from:t,to:c})}var b={weekday:"long",year:"numeric",month:"long",day:"numeric"},h={from:a.fromDate,to:a.toDate},f=h.from,p=h.to,O={start:f,end:p},x=function(e){return Object.values(o).map((function(t,c){return Object(A.jsx)("option",{value:t.id,children:t.name},"".concat(e,".").concat(c))}))};return Object(A.jsx)("main",{className:"flex-shrink-0",children:Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)("h1",{className:"mt-5",children:"Not So Green"}),Object(A.jsx)("p",{className:"lead",children:"Book your flight and discover new worlds."}),Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(),t()},children:[Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsxs)("select",{value:a.fromAirport,onChange:function(e){return u({from:e.target.value,to:a.toAirport})},className:"form-select",id:"floatingSelect",children:[Object(A.jsx)("option",{children:"..."}),x("from")]}),Object(A.jsx)("label",{htmlFor:"floatingSelect",children:"From"})]}),Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsxs)("select",{value:a.toAirport,onChange:function(e){var t=e.target;return u({from:a.fromAirport,to:t.value})},className:"form-select",id:"floatingSelect",children:[Object(A.jsx)("option",{children:"..."}),x("to")]}),Object(A.jsx)("label",{htmlFor:"floatingSelect",children:"To"})]}),Object(A.jsx)("div",{className:"mb-3",children:Object(A.jsx)(m.a,{className:"Selectable",numberOfMonths:2,onDayClick:function(e,t){t.selected;var c=d.DateUtils.addDayToRange(e,{from:a.fromDate,to:a.toDate});c.from&&c.to&&c.from.toUTCString()===c.to.toUTCString()?s({from:void 0,to:void 0}):s(c)},modifiers:O,selectedDays:[f,{from:f,to:p}]})}),a.fromAirport&&a.toAirport&&f&&Object(A.jsxs)("div",{className:"card mb-3",children:[Object(A.jsx)("div",{className:"card-header",children:"Ready to set the earth on fire?"}),Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsxs)("h5",{className:"card-title",children:[o[a.fromAirport].code," - ",o[a.toAirport].code]}),Object(A.jsx)("p",{className:"lead",children:"From"}),Object(A.jsx)("p",{children:f.toLocaleDateString(void 0,b)}),p&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("p",{className:"lead",children:"To"}),Object(A.jsx)("p",{children:p.toLocaleDateString(void 0,b)})]}),Object(A.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Confirm"})]})]})]})]})})},g=function(e,t,c){return"".concat(p.apiendpoint,"/flights/airports/").concat(e,"-").concat(t,"/date/").concat(c.valueOf())},E=function(){var e=Object(f.a)(h.a.mark((function e(t,c,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g(t,c,n));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}();var R=function(){var e,t,c,a=Object(n.useState)(!0),r=Object(i.a)(a,2),s=r[0],A=r[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),d=o[0],m=o[1],u=j(),b=Object(i.a)(u,1)[0];if(s){var h=[b.fromAirport,b.toAirport,b.fromDate];e=h[0],t=h[1],c=h[2]}else{var f=[b.toAirport,b.fromAirport,b.toDate];e=f[0],t=f[1],c=f[2]}return Object(n.useEffect)((function(){var n=!0;return E(e,t,c).then((function(e){if(n){var t={};e.forEach((function(e){t[e.id]={id:e.id,from:e.from,to:e.to,departure:new Date(e.departure),arrival:new Date(e.arrival),price:e.price}})),m(t)}})),function(){n=!1}}),[s,e,t,c]),[d,{isFirst:s,fromAirport:e,toAirport:t,date:c},A]},y=c(39),k={isConnected:!1,flights:{}};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(k.isConnected),c=Object(i.a)(t,2),a=c[1],r=Object(n.useState)(k.flights),s=Object(i.a)(r,2),A=s[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),d=o[0],m=o[1];function u(e){k.flights[e.id]=e,A(k.flights),m(!d)}function j(e){delete k.flights[e],A(k.flights),m(!d)}function b(){k.isConnected=!1,k.token=void 0,k.isAdmin=void 0,k.email=void 0,k.password=void 0,a(k.isConnected),m(!d)}function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(f.a)(h.a.mark((function e(t,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.createHash)("sha256").update(c).digest("hex"),e.next=3,fetch(p.apiendpoint+"/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,passwordHash:n})}).then((function(e){return e.json()}));case 3:(r=e.sent)&&"connected"===r.status?(k.isConnected=!0,k.token=r.token,k.isAdmin=r.isAdmin,k.email=t,k.password=c,a(k.isConnected)):b();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e?O:[k,u,b,j,d]};var w=function(e){var t=e.checkoutState,c=v(),n=R(),a=Object(i.a)(n,3),r=a[0],s=a[1],l=a[2],o=S(),d=Object(i.a)(o,2)[1],m={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return Object(A.jsx)("main",{className:"flex-shrink-0",children:Object(A.jsxs)("div",{className:"container",children:[Object(A.jsxs)("h2",{className:"my-3",children:[c[s.fromAirport].name," - ",c[s.toAirport].name]}),Object(A.jsx)("div",{children:Object.values(r).map((function(e,c){return Object(A.jsx)("div",{className:"card mb-3",children:Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsx)("h5",{className:"card-title",children:"$".concat(e.price)}),Object(A.jsx)("p",{className:"card-text lead",children:"Departure"}),Object(A.jsx)("p",{className:"card-text",children:e.departure.toLocaleDateString(void 0,m)}),Object(A.jsx)("p",{className:"card-text lead",children:"Arrival"}),Object(A.jsx)("p",{className:"card-text",children:e.arrival.toLocaleDateString(void 0,m)}),Object(A.jsx)("button",{onClick:function(){return c=e.id,d(r[c]),void(s.isFirst?l(!1):t());var c},className:"btn btn-primary",children:"Book"})]})},c)}))})]})})},C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAuUAAALlAF37bb0AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACyO34QAAAP90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+6wjZNQAAEldJREFUGBntwQmclYPCBvDnnFlrWqcp7SVTvhIVuUIqNxXqJnJRn6VCklEUyXaNKKR7ExLdSxHJEqJQKSKJSoYkNUqL9r1pmu2c57s/3/W7lplz5j3n3ef5/wERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERQc2u1907Zc6KbQd/tmPV20/fO+i8WpAKoErnkS/nslQbX7m9S1WIj9Uf8n4hIwqteOi8VIgfZY5eHmZ5HFt0558SIL4SOP/dMA048OZNJ0L8Im3oOhq3bfpV9SHeV2XMQcZq7eMXVYd4WcLgnYxLyfIHz02BeNQFa2iC/AWjTgtCPKfFAppm3+tDMiFeknxvAc21+dn+x0E84py1tMI3E3tVhfxXSu3Mk5s3ql01Ca5SY2qYVin+9P5OSajI6p4z6P5J099YtHL9rgL+oiRv77YN36z4ZMHbr77wzKRH7r+lNpxzxU5aK++9kW0DqHDqnD1g7CtfHmF0e8fUgWOavEs77Hnl+uNRUdTumT1r1SGW0/obK8E55+2nbTZOvbw2fK5yxxGzNtKApX2CcNCwEtoq/NWEC9LgTwknX/vMV8U0IvRaB0SV3DYIq9xGBxR9/LezE+EvtS99dEkeDcp7ohmiqjbqJ+6bNbA+rNCukA45PPeWk+ET1XpNzAnTsB13pSOqBuMP8f/ljO8Is1X6jk7aOXNQE3hc6p/HflbCGKwZlIyoWk0r5K+sH10PphpCx22YcmkteFTimXcvPsaYLLoggKg6vRPm75S80ycJ5llBNwiteqR7JXhMoM2IuYcZm+IX2yGq4CXLWaqfbkyCSdrQNQo+vLtDAryiysXP7WSsDj3aCFGl3rCeZcrtH4ApRtFVDs65uRXcr2nW/ALGbMvIaoiq5t27GFFOT5jhGbrO9hnXNIR7Bc9+aA3jsKp/IqJq/Fgeo5pZBfFbSFda9+TFNeBC1S97YS/jEJ53LqJr82Ixy2Nda8RtNd0q9MW4rqlwk8xbFxUxHgX/aoXous5neR0dgHi9Szc79sHo04NwhVMfWsf47HvwOESVcMUqGvEE4vQM3W7/G0NPhMNOfSiXccq9qTKiqpy1kQbdj/iMphdsnX5lPTil3UO5jNeyvkFElXH/Xho3GHFpQa/4dlLvarBdu3EbGK/QG2chuhMm5zMWJb0Rl6X0jpLPHuiSDPu0HbeBcTs6ORPRtX+1hDHKPxnxGEhvOTr/9lODsEHbsRsYv5331EJ0FyxmHBYhHgnL6Dl7X7shE5ZqOXY9TbD2uhRElXTV14xPb8QjM49e9OOz/Y6DNWoO/Zxm+LBnAFFVGbGF8VqfhHgMCNObwl//o2cVmCyx52sFNEHxzNMQXd1xB2iCWxCXS47Ss4qXZp+TBNOcPGEnTTGzMaI78Z8FNMWOAOLSfju9LO/dEW0CiF/GsFU0Sw9EdeabYZrlDMQn4yV63O5Z1x2PeCRd9GYRzXM6Igv0XkoTPYh49dxKz/th6mUZiE3bx3bTVCcgkuRrv6OpchC3alPC9L7w6kfPT4NBdW7NodlqomzV79hOszVG/Dqvpy8ULrn3rESUV3Lft4tpulAAZWk44TDNNxgmqDS+hD5x+J3hrVEO7Z/cRyvsRRlOml5EK4yFKU7LoX/seGlgY0RS7/ZvaZH1KFXneWFa41mYI+meAvrJ+il901Gq1MvfLaFlPsMfBft+TsvMhVlaLqO/hFY+3K0SfqfD0wdopXn4vdQhG2ihFTBNcFge/aZg8V1nJOAXDe9cR4vNwG+l37OLltoCEzWdTx86+FZWSwCV+i8I0XKP4deaTMqjxQpgqgH76Us/vfDsIdrhb/ivtjOLablDMFfd1ylxyMIvzltAO2yE2S7ZQYlZP/wsod+XtMcKmK7mc5RY9cC/pd28iXZ5DxbotokSm9OB2mP20T7/gBXSJoUosWiW+VQ+7XQ5rHHmWkoM3g3RXk1gkZQHiiiutwPWOWUFxe2mwUIJt+dT3O08WCrzI4qb/RSEtQI3HKK41wRYruE7FLcKtYQN+u2huNMs2CJjJsWNQq1gk15bKe4zC7ap9nSY4jIFJ8JGnTdQ3OU22KrS+BKKiywJwmbtcyiucbgpbJd0TwHFJQbBCS2XUVxhDpwRHJZHcd7uOnBK0wUUx/WBgwbspzjrOTiq7myKkz5IgcP67qA4ZnkVOK7mNIpDvkmHG3TbRHHCD/XgDmmTQhTbbW8G1zhzLcVm+1rDRVIeKKLY6cgZcJdTVlLsU9AVbpNwez7FJod7wIWaf0SxxZZT4EqBIYco1ltZD27VcC7FanPS4GL991AsNTEIV8uYSbFOyU1wvV5bKRY5ciE8oNrTYYoVtraBN3TeQDHf8vrwikrjSyjmCo1NhIe0z6GYaWsXeEvSPYUU07yRDs9puYxijqOD4UXB4XkUE3zVEh7VdAElXuGJKfCugfspcdl1ATyt7mxKHN49Dl7XdwclRnuugg/UnEaJyfRa8IfumyiGbegK30ibFKIYUjQ2FX5y1lqKAZ+1hs+kPFhEKadDQ4PwnzYrKeXyRgP4UsKofEpUW/vAt5pvpUSW/2AV+Na5yykRhV9sBN86bT4lsk9Oh2+1eDVMiSi3L3yr4T+LKREdGJEMv6o14RgloqJJtWCB5IxmbTv16tU8AQ5Ku+cQJbI5LWC25D8/8tUx/kdBzst/uzQTTki+eRclsi/PhcmaZ72Txz9YPigNNgtevYkS2YYrgzBV+i3fsgyHnmoLO120hhLZxoGJMFXHGccYyRcDEmCTLp9RItsyOAmmOn81o1p3aQA2OPV9SmQ/3ZQMU52wiOWyshus1vyVMCWinbekwlxn72F5LT4DVmrwTDEloj2jKsNkFxbQgDdbwSrp4/MpEe2/uwrM1uwADQlNbwIrpN19kBLRwezqMF3iKhpVOKkOzJactZMS0d7smrDANYzBkTHVYKbgVRspEW0engYrBNYyJntHpsI0f/mGEtGaqxNhjT8zVluvS4ApOn1KiWjpXwKwyv2M3bq/BhC3/5lHiST8TkdYaDHjsbI74pP+eDElguIXWsNSWxmfxWcgdknD91MiODqpCSy2l/F68yTEqOc6SgT7sjNguTzGLTS9KWLQegElgjVD02CDDTRB4aQ6MCjjqRJKmYpf6wJ7vE5THBlTDQYkjzxIKdOOMQ1gl7tpkr0jU1FefTZQyrT0iiTY54QQzbL1ukSUR5vFlLIcndoG9ppL83z/1wCiOW5qiFKG9bfWgN260kyruiOilDsOU0oXertHAA54n6b6sAPKdulGSun2PtIUzmhdQnO9dRJKd+rHlNJ9cU0qHPM0TRZ6vin+qN60MKU0Bc//CU6qc4hmK3y8Dn4r9e4jlNL8eEcGHHYHzZf3QHX8yhWbKaUIz+8dhONSNtEC+25LxX/8aRmlFAcntoArXE5LbLs+Ef/WcEaY8kc5g9PgFstoje8vC1TOPkr5g6JZHeEiHcK0yJdbKX+w6W914S4zKXY5Mq1LAG7T5BjFDqEPrkqDG42jWO/7uxrBparupFjrwJQOcLHrKRYqnvvXFLhawtcUq+SMOA6u141iid2PtYMnzKOYrnB270R4RMtiirm+uCkdHvIkxUTbHm4Jb8k4SDFJ/kvdgzCizagn35rzv2lw1G0UM4Q/vrYajDj+rjX82dGhcFLyD5S4bcxuBiPqZC3jf42Ak/pS4nP42U4BGFD1qveK+Ru94KRPKLEreKt/ZRiQfNEr+fy92XBS+zAlNoVvX1kNBgS7TN3PUhRUh5NmUGJQOPfq6jCi3YRtLMNFcFLDfIpBRfOuqQEjTrj3O5ZtGBw1hmJE0XsDa8KIusM/Z0QT4Ki07ZTyKp5/bTqMqDZgQQmjeBXOGkQpl5KF19eCESkXv36M0S2Hs4KrKVGVfDA4A0YEuz57kOWyHQ47lxJZaPGQOjCk/T+2s7zCyXDYHErZQh8NPQ6GtMheTyOawWEtiiilC32cVReG1L91JQ3qAqdNopQi/MnN9WFIjWsXhWjY1XBa+n7K74Q/Hd4AhqRe+kYBY3EPHHcL5dfCn93aEIYkdJ9+iDGaCsclraf8omhhViMYc8aknYzd+3BeH8rPDr58RXUY0/KBXMZlLVzgQwo3P9EtCcY0vO1LxisPLtAuxAruy+x2MCh98EdhmiAdLjCNFVjRwqzGMKjS5XMKaY62cIH6eaygDr58RXUYlHj+jCM0TW+4wX2siLY82S0JRp315G6aKQtuUHkbK5rV2e1g2EnjNtFk4+EKV7MiKVqY1RiGNb4jh+abBVcIrGRFcfDlftVhWK0hn4RphWVwh06sELY82S0JhqX1n1tEi2yDS8ym763Obgfjknq+lEfrhBLhDicU0s+KFmY1hnGBc6bspbWawiX+Tt/a/EyfqojBKQ9vpuU6wSVq7KUfFS4c2QqxOP6uNbTDlXCL2+g7G5/6SxpikTjkU9rkTrjE8bn0lWPv33IiYtR2NW0zBe7Qejt9ZMPjF1ZCzG4upn3mwRXO3E+/yJ+XlYl4NDpGG30DN+iRR39YN7FHKuI0jXY6BBe4rIg+kPf2jccjfukh2qo6HHdDiJ737YSuyTBFI9rrZDjtTnrc4TcHN4ZpmtFePeGwm+hpXz/SJQlmakh73QhnXRKiZ+2edW0DmO4t2uohOKrjMXpT3nsj2wRghVPCtNNLcFLL/fSg4k/v75QMyzxPO30CB9XfTM9Z81ivqrBU5eW00WY4p1oOvWXLc/9bF9arnUv7lCTAMTPpIftn39gCNsncQ/s0glN60CuOLRzdPggbdcinbc6GQyptpBeEvhjXNRV26xOiXfrBIY/Q/dZNvrgGHJFFu9wBZ5xSTHfbPmNAQzjnUdpkMpzxCV1s/5xhreCswCza4x04ojXdas/sYW2CcF7KEtoiB454lG6085WhJwXgEjXX0g4H4IjP6TbbXhp8IlylyXbaoSqcsItu8uPzg06A+7Q7QhucBCccolvkPnt1E7hUj2Ja7wI44Qu6wbpn+jeAmw2i9W6AE56nw8JrJl9WF66XTcuNhRNG00GhryZdkgFvmEarzYAT+tAhBUvH964J70icT4stgRNa0AE73xh5ZjI8pupqWmsTHLGYtgrlTLmqGTyp/mZaqigIJ7QN0S6HF2Z3rwbvanWAlmoAR0yjHTa+OLRNEB7XpZBWOhOOqJ9HaxUu/3vfevCFfmFa6HI4Yzits3vOHR1T4R+jaKHb4ZChIVqgcMWUAc3hN5NpnSfglMsKaaqSb5678fRk+FFwDi0zB4457whNEl7/0q0d0+BflZfTKqvhnBPnMH6bZ4/uWgN+VzuXFtkHJ53zOeOwc+59F9ZBxZC5hxZJg6Muy2Usdswfd0kjVCQd8mmNlnBW4KyJW2jA0c//NfzcDFQ8fUK0RA84LtDh7z8wutD3r993cWYQFVUWLXE9XCGj++hXc8Msw64PJg5sXwkV3KO0whi4R/XT+9w07vkPvtu253AhycJNS1+deHv/zs0rQ/4tMIsWeAzuFEipGoD8RsoSmm8qxDNqrqXpZkC8o8l2mm02xEPaHaHJ3oN4SY9immsJxFMG0VyLIN6STVNNg3jMczTTfRCPSZxPEw2AeE3V1TTPuRDPqb+ZpmkG8Z5WB2iSwiSIB3UupDkWQTypX5imGAnxplE0RSuIR02mCX6EeFXwLcZvCsSzKi9n3HpCvKt2LuOUmwDxsMw9jM+NEE/rkM947K4E8bY+IcbhXojXZTF2eekQzxvPmD0M8b7ALMZofSWID6QsYUxCHSG+UHMtY/EYxCeabKdxuZUhftHuCI0q6QTxjx7FNCY8EOIng2jMbRB/yaYRD0P85jmW378gvpM4n+U1LQHiP1VXs1yKh0F8qd5mlsPuLhCfanWAUa1qDPGtzoWMrPjxVIiP9QszknktIf42imVb0x3ie5NZhm1DEiD+F5zG0nw3MBlSMYwo4e8tuygAqTB6HOCvheeeA6lQGo/dyl8cnN4aUuEEe8z4eHXuri8e6JgIERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESm//wN/ZdWVsmQj7wAAAABJRU5ErkJggg==",D=c(117);var F=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1];return[c,function(e){a([].concat(Object(D.a)(c),[{code:e.toUpperCase(),discount:5+Math.floor(10*Math.random())}]))}]};var T=function(e){var t=e.completionState,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],s=a[1],l=F(),o=Object(i.a)(l,2),d=o[0],m=o[1],u=S(),j=Object(i.a)(u,1)[0],b={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(A.jsx)("div",{className:"container pb-5",children:Object(A.jsxs)("main",{children:[Object(A.jsxs)("div",{className:"py-5 text-center",children:[Object(A.jsx)("img",{className:"d-block mx-auto mb-4",src:C,alt:"",width:"72",height:"72"}),Object(A.jsx)("h2",{children:"Time to pay"}),Object(A.jsx)("p",{className:"lead",children:"We won't use your credentials for anything worse than you're already doing."})]}),Object(A.jsxs)("div",{className:"row g-5",children:[Object(A.jsxs)("div",{className:"col-md-5 col-lg-4 order-md-last",children:[Object(A.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(A.jsx)("span",{className:"text-primary",children:"Your cart"}),Object(A.jsx)("span",{className:"badge bg-primary rounded-pill",children:"3"})]}),Object(A.jsxs)("ul",{className:"list-group mb-3",children:[Object.values(j.flights).map((function(e,t){return Object(A.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-sm",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("h6",{className:"my-0",children:"".concat(e.from," - ").concat(e.from)}),Object(A.jsx)("small",{className:"text-muted",children:e.departure.toLocaleDateString(void 0,b)})]}),Object(A.jsx)("span",{className:"text-muted",children:"$".concat(e.price)})]},"flight-".concat(t))})),d.map((function(e,t){return Object(A.jsxs)("li",{className:"list-group-item d-flex justify-content-between bg-light",children:[Object(A.jsxs)("div",{className:"text-success",children:[Object(A.jsx)("h6",{className:"my-0",children:"Promo code"}),Object(A.jsx)("small",{children:e.code})]}),Object(A.jsx)("span",{className:"text-success",children:"-$".concat(e.discount)})]},"redeem-".concat(t))})),Object(A.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(A.jsx)("span",{children:"Total (USD)"}),Object(A.jsxs)("strong",{children:["$",function(){var e=Object.values(j.flights).map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),t=d.map((function(e){return e.discount})).reduce((function(e,t){return e+t}),0);return Math.max(e-t,0)}()]})]})]}),Object(A.jsx)("form",{onSubmit:function(e){e.preventDefault(),r&&(m(r),s(""))},className:"card p-2",children:Object(A.jsxs)("div",{className:"input-group",children:[Object(A.jsx)("input",{value:r,onChange:function(e){var t=e.target;s(t.value)},type:"text",className:"form-control",placeholder:"Promo code"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Redeem"})]})})]}),Object(A.jsxs)("div",{className:"col-md-7 col-lg-8",children:[Object(A.jsx)("h4",{className:"mb-3",children:"Billing address"}),Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},children:[Object(A.jsxs)("div",{className:"row g-3",children:[Object(A.jsxs)("div",{className:"col-sm-6",children:[Object(A.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First name"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"firstName",placeholder:"",defaultValue:"",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Valid first name is required."})]}),Object(A.jsxs)("div",{className:"col-sm-6",children:[Object(A.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last name"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"lastName",placeholder:"",defaultValue:"",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Valid last name is required."})]}),Object(A.jsxs)("div",{className:"col-12",children:[Object(A.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(A.jsxs)("div",{className:"input-group has-validation",children:[Object(A.jsx)("span",{className:"input-group-text",children:"@"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Your username is required."})]})]}),Object(A.jsxs)("div",{className:"col-12",children:[Object(A.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email ",Object(A.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),Object(A.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"you@example.com"}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Please enter a valid email address for shipping updates."})]}),Object(A.jsxs)("div",{className:"col-12",children:[Object(A.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"1234 Main St",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Please enter your shipping address."})]}),Object(A.jsxs)("div",{className:"col-12",children:[Object(A.jsxs)("label",{htmlFor:"address2",className:"form-label",children:["Address 2 ",Object(A.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"address2",placeholder:"Apartment or suite"})]}),Object(A.jsxs)("div",{className:"col-md-5",children:[Object(A.jsx)("label",{htmlFor:"country",className:"form-label",children:"Country"}),Object(A.jsxs)("select",{className:"form-select",id:"country",required:"",children:[Object(A.jsx)("option",{defaultValue:"",children:"Choose..."}),Object(A.jsx)("option",{children:"United States"})]}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Please select a valid country."})]}),Object(A.jsxs)("div",{className:"col-md-4",children:[Object(A.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),Object(A.jsxs)("select",{className:"form-select",id:"state",required:"",children:[Object(A.jsx)("option",{defaultValue:"",children:"Choose..."}),Object(A.jsx)("option",{children:"California"})]}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid state."})]}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)("label",{htmlFor:"zip",className:"form-label",children:"Zip"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"zip",placeholder:"",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Zip code required."})]})]}),Object(A.jsx)("hr",{className:"my-4"}),Object(A.jsxs)("div",{className:"form-check",children:[Object(A.jsx)("input",{type:"checkbox",className:"form-check-input",id:"save-info"}),Object(A.jsx)("label",{className:"form-check-label",htmlFor:"save-info",children:"Save this information for next time"})]}),Object(A.jsx)("hr",{className:"my-4"}),Object(A.jsx)("h4",{className:"mb-3",children:"Payment"}),Object(A.jsxs)("div",{className:"row gy-3",children:[Object(A.jsxs)("div",{className:"col-md-6",children:[Object(A.jsx)("label",{htmlFor:"cc-name",className:"form-label",children:"Name on card"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"cc-name",placeholder:"",required:""}),Object(A.jsx)("small",{className:"text-muted",children:"Full name as displayed on card"}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Name on card is required"})]}),Object(A.jsxs)("div",{className:"col-md-6",children:[Object(A.jsx)("label",{htmlFor:"cc-number",className:"form-label",children:"Credit card number"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"cc-number",placeholder:"",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Credit card number is required"})]}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)("label",{htmlFor:"cc-expiration",className:"form-label",children:"Expiration"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"cc-expiration",placeholder:"",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Expiration date required"})]}),Object(A.jsxs)("div",{className:"col-md-3",children:[Object(A.jsx)("label",{htmlFor:"cc-cvv",className:"form-label",children:"CVV"}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"cc-cvv",placeholder:"",required:""}),Object(A.jsx)("div",{className:"invalid-feedback",children:"Security code required"})]})]}),Object(A.jsx)("hr",{className:"my-4"}),Object(A.jsx)("button",{className:"w-100 btn btn-primary btn-lg",type:"submit",children:"Continue to checkout"})]})]})]})]})})};var q=function(e){var t=e.homeState;return Object(A.jsxs)("div",{className:"text-center cover-container d-flex w-100 h-100 p-3 mx-auto flex-column",children:[Object(A.jsx)("div",{className:"mb-auto"}),Object(A.jsxs)("main",{className:"px-3",children:[Object(A.jsx)("h1",{children:"Well done."}),Object(A.jsx)("p",{className:"lead",children:"To balance the carbon footprint of your flight, you must stop eating for 153 days."}),Object(A.jsx)("button",{onClick:function(e){e.preventDefault(),t()},className:"btn btn-primary",children:"Return to home"})]}),Object(A.jsx)("div",{className:"mt-auto"})]})};c(220);var X=function(e){var t=e.previousState,c=S(!0),a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)(""),d=Object(i.a)(o,2),m=d[0],u=d[1];function j(){return(j=Object(f.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,c(s,m);case 3:t();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsx)("main",{className:"form-signin text-center",children:Object(A.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(A.jsx)("img",{className:"mb-4",src:C,alt:"",width:"72",height:"72"}),Object(A.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in"}),Object(A.jsxs)("div",{className:"form-floating",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;l(t.value)},type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com"}),Object(A.jsx)("label",{htmlFor:"floatingInput",children:"Email address"})]}),Object(A.jsxs)("div",{className:"form-floating",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;u(t.value)},type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password"}),Object(A.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(A.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Sign in"})]})})};var K=function(e){var t=e.previousState,c=e.checkoutState,n=S(),a=Object(i.a)(n,4),r=a[0],s=a[2],l=a[3],o={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return Object(A.jsx)("div",{className:"container pb-5",children:Object(A.jsxs)("main",{children:[Object(A.jsxs)("div",{className:"py-5 text-center",children:[Object(A.jsx)("img",{className:"d-block mx-auto mb-4",src:C,alt:"",width:"72",height:"72"}),Object(A.jsx)("h2",{children:"Your profile"}),Object(A.jsx)("p",{className:"lead",children:"Just think about yourself."}),Object(A.jsx)("button",{onClick:function(){s(),t()},className:"btn btn-primary",children:"Sign out"})]}),Object(A.jsx)("div",{className:"list-group mb-5",children:Object.values(r.flights).map((function(e,t){return Object(A.jsxs)("div",{className:"list-group-item list-group-item-action",children:[Object(A.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(A.jsxs)("h5",{className:"mb-1",children:[e.from," - ",e.to]}),Object(A.jsx)("button",{onClick:function(){return t=e.id,void l(t);var t},type:"button",className:"btn-close","aria-label":"Close"})]}),Object(A.jsxs)("p",{className:"mb-1",children:[e.departure.toLocaleDateString(void 0,o)," - ",e.arrival.toLocaleDateString(void 0,o)]}),Object(A.jsxs)("small",{children:["$",e.price]})]},t)}))}),Object.values(r.flights).length>0&&Object(A.jsx)("div",{className:"d-grid",children:Object(A.jsx)("button",{onClick:function(){c()},className:"btn btn-outline-primary",type:"submit",children:"Checkout"})})]})})},P=c(15),H=c(16),M=function(e){return"".concat(p.apiendpoint,"/").concat(e)},Y=function(){var e=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=["users","airports","employees","connections","airplanes","flights","pilots","crew-members","departures","consumers"],Q=[];var W=function(e){var t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],r=c[1];function s(){var e=!0,t=Q;return Promise.all(t.map((function(e){return Y(e)}))).then((function(c){if(e){var n={};c.forEach((function(e,c){var a=e.map((function(e){var t={};return Object.entries(e).forEach((function(e){var c=Object(i.a)(e,2),n=c[0],a=c[1];t[n.replace(/_/g,"-")]=a})),t}));n[t[c]]=a})),r(n)}})).catch((function(e){console.error(e)})),function(){e=!1}}return Q=[],e.forEach((function(e){U.includes(e)&&Q.push(e)})),Object(n.useEffect)(s,[]),[a,s]},L=function(e){return e.split("-").map((function(e,t){return e[0].toUpperCase()+e.slice(1)})).join(" ")},I={user:{fields:[["email","text"],["password-hash","text"],["admin","bool"]]},airport:{fields:[["name","text"],["code","text"]]},airplane:{fields:[["number","number"],["type","text"]]},employee:{fields:[["security-number","number"],["surname","text"],["name","text"],["address","text"],["salary","number"],["user-id","$user$email"]]},consumer:{fields:[["number","number"],["surname","text"],["name","text"],["user-id","$user$email"]]},connection:{fields:[["departure-airport-id","$airport$name"],["arrival-airport-id","$airport$name"]]},pilot:{fields:[["employee-id","$employee$name.surname"],["license-number","text"]]},"crew-member":{fields:[["employee-id","$employee$name.surname"],["role","text"]]},flight:{fields:[["from","date"],["to","date"],["number","number"],["connection-id","$connection$id"],["airplane-id","$airplane$number"],["departure-day","text"],["arrival-day","text"],["departure-time","time"],["arrival-time","time"]]},departure:{fields:[["flight-id","$flight$from.to"],["date","date"],["pilot-id","$pilot$name.surname"],["optional-pilot-id","$pilot$name.surname"],["first-crew-member-id","$crew-member$name.surname"],["second-crew-member-id","$crew-member$name.surname"],["number-of-empty-seat","number"],["number-of-reserved-seat","number"]]},ticket:{fields:[["number","number"],["date-time-of-issue","datetime-local"],["price","number"],["departure-id","$departure$date"],["consumer-id","$consumer$date"]]}};var V=function(){var e,t=Object(n.useState)("create"),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),o=l[0],d=l[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),j=u[0],b=u[1],O=S(),x=Object(i.a)(O,2)[0],v=Object(n.useState)({}),N=Object(i.a)(v,2),g=N[0],E=N[1],R=W(["users","airports","employees","connections","airplanes","flights","pilots","crew-members","departures","consumers"]),k=Object(i.a)(R,2),w=k[0],C=k[1];function D(e){E({}),r(e)}function F(e,t,c){"id"!==t?g[e]?E(Object(H.a)(Object(H.a)({},g),{},Object(P.a)({},e,Object(H.a)(Object(H.a)({},g[e]),{},Object(P.a)({},t,c))))):E(Object(H.a)(Object(H.a)({},g),{},Object(P.a)({},e,Object(P.a)({},t,c)))):E(Object(H.a)(Object(H.a)({},g),{},Object(P.a)({},e,Object(P.a)({},t,parseInt(c)))))}function T(){return(T=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.apiendpoint+"/admin/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x.token,object:t,data:g[t]})}).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,C();case 5:console.log(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.apiendpoint+"/admin/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x.token,object:t,objectId:g[t]&&g[t].id,data:g[t]})}).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,C();case 5:console.log(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(f.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.apiendpoint+"/admin/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x.token,object:t,objectId:g[t].id})}).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,C();case 5:console.log(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"create"===a?e=Object.entries(I).map((function(e,t){var c=Object(i.a)(e,2),n=c[0],a=c[1];return Object(A.jsxs)("form",{className:"mb-5",onSubmit:function(e){e.preventDefault(),function(e){T.apply(this,arguments)}(n)},children:[Object(A.jsx)("h4",{className:"mb-3",children:L(n)}),a.fields.map((function(e,c){var a=Object(i.a)(e,2),r=a[0],s=a[1];if("$"===s[0]){var l=s.slice(1).split("$"),o=Object(i.a)(l,2),d=o[0],m=o[1].split(".");return Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsxs)("select",{value:g[n]?g[n][r]:void 0,onChange:function(e){var t=e.target;return F(n,r,t.value)},className:"form-select",id:"floatingselect$".concat(n,"$").concat(r),children:[Object(A.jsx)("option",{children:"..."}),(w[d+"s"]||[]).map((function(e,t){return Object(A.jsx)("option",{value:e.id,children:m.map((function(t){return e[t]})).join(" ")},"floatingselect$".concat(n,"$").concat(r,"$").concat(t))}))]}),Object(A.jsx)("label",{htmlFor:"floatingselect$".concat(n,"$").concat(r),children:L(r)})]},"".concat(t,"$").concat(c))}return"bool"===s?Object(A.jsxs)("div",{className:"form-check form-switch mb-3",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;return F(n,r,t.checked)},className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"}),Object(A.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:L(r)})]},"".concat(t,"$").concat(c)):Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;return F(n,r,t.value)},type:s,className:"form-control",id:"floating$".concat(n,"$").concat(r),placeholder:r,value:g[n]&&g[n][r]?g[n][r]:"",required:!0}),Object(A.jsx)("label",{htmlFor:"floating$".concat(n,"$").concat(r),children:L(r)})]},"".concat(t,"$").concat(c))})),Object(A.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Create"})]},t)})):"update"===a?e=Object.entries(I).map((function(e,t){var c=Object(i.a)(e,2),n=c[0],a=c[1];return Object(A.jsxs)("form",{className:"mb-5",onSubmit:function(e){e.preventDefault(),function(e){q.apply(this,arguments)}(n)},children:[Object(A.jsx)("h4",{className:"mb-3",children:L(n)}),Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsxs)("select",{value:g[n]?g[n].id:void 0,onChange:function(e){var t=e.target;return F(n,"id",t.value)},className:"form-select",id:"floatingselectmainupdate".concat(n),children:[Object(A.jsx)("option",{children:"..."}),(w[n+"s"]||[]).map((function(e,t){return Object(A.jsx)("option",{value:e.id,children:e.id},"floatingselectmainupdate$".concat(n,"$").concat(t))}))]}),Object(A.jsx)("label",{htmlFor:"floatingselectmainupdate$".concat(n),children:L(n)})]},"selectmainupdate$".concat(t)),g[n]&&g[n].id&&a.fields.map((function(e,c){var a=Object(i.a)(e,2),r=a[0],s=a[1];if("$"===s[0]){var l,o=s.slice(1).split("$"),d=Object(i.a)(o,2),m=d[0],u=d[1].split(".");if(g[n])if(g[n][r])l=g[n][r];else{var j=(w[n+"s"]||[]).find((function(e){return e.id===g[n].id}));console.log("Update item",j),j&&(l=j[r])}return Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsx)("select",{value:l,onChange:function(e){var t=e.target;return F(n,r,t.value)},className:"form-select",id:"floatingselect$".concat(n,"$").concat(r),children:(w[m+"s"]||[]).map((function(e,t){return Object(A.jsx)("option",{value:e.id,children:u.map((function(t){return e[t]})).join(" ")},"floatingselect$".concat(n,"$").concat(r,"$").concat(t))}))}),Object(A.jsx)("label",{htmlFor:"floatingselect$".concat(n,"$").concat(r),children:L(r)})]},"".concat(t,"$").concat(c))}if("bool"===s){var b=!1;if(g[n])if(g[n][r])b=g[n][r];else{var h=(w[n+"s"]||[]).find((function(e){return e.id===g[n].id}));console.log("Update item",h),h&&(b=h[r])}return Object(A.jsxs)("div",{className:"form-check form-switch mb-3",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;return F(n,r,t.checked)},checked:b,className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"}),Object(A.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:L(r)})]},"".concat(t,"$").concat(c))}var f="";if(g[n])if(g[n][r])f=g[n][r];else{var p=(w[n+"s"]||[]).find((function(e){return e.id===g[n].id}));p&&(f=p[r])}return Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;return F(n,r,t.value)},type:s,className:"form-control",id:"floating$".concat(n,"$").concat(r),placeholder:r,value:f,required:!0}),Object(A.jsx)("label",{htmlFor:"floating$".concat(n,"$").concat(r),children:L(r)})]},"".concat(t,"$").concat(c))})),Object(A.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Update"})]},t)})):"delete"===a&&(e=Object.entries(I).map((function(e,t){var c=Object(i.a)(e,2),n=c[0];c[1];return Object(A.jsxs)("form",{className:"mb-5",onSubmit:function(e){e.preventDefault(),function(e){X.apply(this,arguments)}(n)},children:[Object(A.jsx)("h4",{className:"mb-3",children:L(n)}),Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsxs)("select",{value:g[n]?g[n].id:void 0,onChange:function(e){var t=e.target;return F(n,"id",t.value)},className:"form-select",id:"floatingselectmaindelete$".concat(n),children:[Object(A.jsx)("option",{children:"..."}),(w[n+"s"]||[]).map((function(e,t){return Object(A.jsx)("option",{value:e.id,children:e.id},"floatingselectmaindelete$".concat(n,"$").concat(t))}))]}),Object(A.jsx)("label",{htmlFor:"floatingselectmain$".concat(n),children:L(n)})]},"selectmaindelete$".concat(t)),Object(A.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Delete"})]},t)})));var K=function(e){return"".concat(e===a?"active ":"","nav-link btn btn-link")};return Object(A.jsx)("div",{className:"container pb-5",children:Object(A.jsxs)("main",{children:[Object(A.jsxs)("div",{className:"py-5 text-center",children:[Object(A.jsx)("h2",{children:"You're the boss here!"}),Object(A.jsx)("p",{className:"lead",children:"Just do anything you want, fire is in your hand."})]}),Object(A.jsxs)("div",{className:"mb-3",children:[Object(A.jsxs)("button",{className:"btn btn-outline-primary mb-3",onClick:function(){d(!o)},children:[o?"Hide":"Show"," help to hash input"]}),Object(A.jsx)("div",{className:"collapse".concat(o?".show":""),children:Object(A.jsxs)("div",{className:"card card-body",children:[Object(A.jsxs)("div",{className:"form-floating mb-3",children:[Object(A.jsx)("input",{onChange:function(e){var t=e.target;return b(t.value)},type:"text",className:"form-control",value:j,placeholder:"Raw Hash",id:"hashhelper"}),Object(A.jsx)("label",{htmlFor:"hashhelper",children:"Raw input"})]}),Object(A.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Raw input hashed"}),Object(A.jsx)("p",{className:"card-text",children:Object(y.createHash)("sha256").update(j).digest("hex")})]})})]}),Object(A.jsxs)("ul",{className:"nav nav-tabs mb-3",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("button",{onClick:function(e){return D("create")},type:"button",className:K("create"),children:"Create"})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("button",{onClick:function(e){return D("update")},type:"button",className:K("update"),children:"Update"})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("button",{onClick:function(e){return D("delete")},type:"button",className:K("delete"),children:"Delete"})})]}),e]})})};var B=function(){var e=S(),t=Object(i.a)(e,1)[0],c=Object(n.useState)("home"),a=Object(i.a)(c,2),r=a[0],s=a[1],d=Object(n.useState)("home"),m=Object(i.a)(d,2),u=m[0],j=m[1];function b(e){s(u),j(e)}return"checkout"!==u||t.isConnected||b("signin"),"admin"!==u||t.isAdmin||j("home"),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(l,{isConnected:t.isConnected,isAdmin:t.isAdmin,homeState:function(){return b("home")},signInState:function(){return b("signin")},profileState:function(){return b("profile")},adminState:function(){return b("admin")}}),"home"===u&&Object(A.jsx)(N,{flightsState:function(){return b("flights")}}),"flights"===u&&Object(A.jsx)(w,{checkoutState:function(){return b("checkout")}}),"checkout"===u&&Object(A.jsx)(T,{completionState:function(){return b("completion")}}),"completion"===u&&Object(A.jsx)(q,{homeState:function(){return b("home")}}),"signin"===u&&Object(A.jsx)(X,{previousState:function(){return b(r)}}),"profile"===u&&Object(A.jsx)(K,{previousState:function(){return b(r)},checkoutState:function(){return b("checkout")}}),"admin"===u&&Object(A.jsx)(V,{}),Object(A.jsx)(o,{})]})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,222)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(B,{})}),document.getElementById("root")),G()}},[[221,1,2]]]);
//# sourceMappingURL=main.8dcba2f8.chunk.js.map